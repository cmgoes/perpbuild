(this.webpackJsonpwallpetint=this.webpackJsonpwallpetint||[]).push([[0],{416:function(e,t,r){},417:function(e,t){},457:function(e,t){},459:function(e,t){},483:function(e,t){},485:function(e,t){},497:function(e,t){},498:function(e,t){},521:function(e,t){},524:function(e,t){},526:function(e,t){},631:function(e,t){},632:function(e,t){},646:function(e,t,r){},648:function(e,t,r){"use strict";r.r(t);var n,o=r(28),a=r(1),i=r.n(a),c=r(73),s=r.n(c),l=r(199),d=(r(416),r(29)),u=r(13),b=r(739),x=r(741),p=r(742),j=r(733),f=r(734),O=r(0),g=r(5),h=r(12),m=r(365),y=r.n(m),w=r(709),v=r(710),k=r(395);!function(e){e[e.OPTIMISM=10]="OPTIMISM",e[e.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI"}(n||(n={}));var C=n.OPTIMISM,M=r(2),F=i.a.createContext(null),S=function(){var e=Object(a.useContext)(F);if(!e)throw new Error("useWeb3Context() can only be used inside of <Web3ContextProvider />, please declare it at a higher level.");var t=e.onChainProvider;return Object(a.useMemo)((function(){return Object(o.a)({},t)}),[e])},B=function(e){var t=e.children,r=Object(a.useState)(!1),o=Object(u.a)(r,2),i=o[0],c=o[1],s=Object(a.useState)(C),l=Object(u.a)(s,2),d=l[0],b=(l[1],Object(a.useState)(C)),x=Object(u.a)(b,2),p=x[0],j=x[1],f=Object(a.useState)(""),m=Object(u.a)(f,2),S=m[0],B=m[1],I=Object(a.useState)("https://mainnet.optimism.io"),z=Object(u.a)(I,2),P=z[0],T=(z[1],Object(a.useState)(new w.a(P))),D=Object(u.a)(T,2),R=D[0],L=D[1],A=Object(a.useState)(new y.a({cacheProvider:!0,providerOptions:{walletconnect:{package:k.a,options:{rpc:Object(h.a)({},n.OPTIMISM,"https://mainnet.optimism.io")}}}})),E=Object(u.a)(A,1)[0],N=function(){return!!E&&!!E.cachedProvider},U=Object(a.useCallback)((function(e){e.on&&(e.on("accountsChanged",(function(){return setTimeout((function(){return window.location.reload()}),1)})),e.on("chainChanged",function(){var e=Object(g.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.on("network",(function(e,t){t&&window.location.reload()})))}),[R]),H=function(){var e=Object(g.a)(Object(O.a)().mark((function e(t){var r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Number(t),j(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=Object(a.useCallback)(Object(g.a)(Object(O.a)().mark((function e(){var t,r,o,a;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.connect();case 2:return t=e.sent,U(t),r=new v.a(t,"any"),e.next=7,r.getNetwork().then((function(e){return Number(e.chainId)}));case 7:return o=e.sent,e.next=10,r.getSigner().getAddress();case 10:return a=e.sent,B(a),j(o),o===n.OPTIMISM&&L(r),c(!0),e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)}))),[R,E,i]),G=Object(a.useCallback)(Object(g.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.clearCachedProvider(),c(!1),setTimeout((function(){window.location.reload()}),1);case 3:case"end":return e.stop()}}),e)}))),[R,E,i]),V=Object(a.useMemo)((function(){return{connect:W,disconnect:G,hasCachedProvider:N,provider:R,connected:i,address:S,chainID:d,web3Modal:E,providerChainID:p}}),[W,G,N,R,i,S,d,E,p]);return Object(M.jsx)(F.Provider,{value:{onChainProvider:V},children:t})},I=r(380),z=r.n(I),P=[{link:"/account",text:"Account"},{link:"/trade",text:"Trade"},{link:"/pools",text:"Pools"}];var T=function(){var e=S(),t=e.connect,r=e.disconnect,n=e.connected,o=e.web3,i=(e.address,e.provider,e.providerChainID),c=e.checkWrongNetwork,s=Object(a.useState)(n),l=Object(u.a)(s,2),O=l[0],g=l[1],h=Object(d.m)(),m="Connect",y=t;return O&&(m="Disconnect",y=r),O&&i!==C&&(m="Wrong network",y=function(){c()}),Object(a.useEffect)((function(){g(n)}),[o,n]),Object(M.jsx)(b.a,{position:"static",sx:{backgroundColor:"rgba(9, 9, 10, 1)",backgroundImage:"none",py:2,px:2,borderBottom:"1px solid rgba(255, 255, 255, 0.16)"},children:Object(M.jsxs)(x.a,{flexGrow:1,justifyContent:"space-between",alignItems:"center",sx:{ml:{xs:"20px",md:"60px"},display:"flex"},children:[Object(M.jsx)(p.a,{variant:"h4",fontWeight:"700",textAlign:"center",children:Object(M.jsx)(j.a,{href:"/",sx:{textDecoration:"none",color:"white"},children:"DERIVERSE"})}),Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexGrow:"1"},children:[Object(M.jsx)(x.a,{sx:{display:"flex",justifyContent:"space-between","& .MuiTypography-root:hover":{color:"#00ec96"}},children:P.map((function(e,t){return Object(M.jsx)(p.a,{sx:{pl:4,cursor:"pointer",fontFamily:"Montserrat Bold",color:"rgba(145, 153, 167, 1)"},onClick:function(){return t=e.link,void h(t);var t},children:e.text},t)}))}),Object(M.jsxs)(f.a,{variant:"contained",sx:{cursor:"pointer",backgroundColor:"transparent",color:"rgba(101, 230, 255, 1)",fontSize:"16px","&:hover":{backgroundColor:"rgba(101, 239, 255, 0.12)"}},onClick:y,children:[Object(M.jsx)(z.a,{sx:{color:"rgba(101, 230, 255, 1)",pr:1}}),m]})]})]})})},D=r(33),R=r(210),L=r(60),A=r(200),E=function(e,t){Object.keys(t).forEach((function(r){e[r]=t[r]}))},N=Object(L.b)("market/calcMarketDetails",function(){var e=Object(g.a)(Object(O.a)().mark((function e(t){var r,n,o,a;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.perpetualObject,n=t.tickerSymbol,e.next=3,r.init();case 3:return o=r.markets.marketMap,e.next=6,r.contractReader.getIndexPrice(o[n].baseAddress);case 6:return a=e.sent,console.log("Update index price",a.toFixed(2)),e.abrupt("return",{marketIndexPrice:a.toFixed(2)});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=Object(L.c)({name:"markets",initialState:{isMarketInfoCalculated:!1,isMarketInfoInitialized:!1},reducers:{},extraReducers:function(e){e.addCase(N.pending,(function(e){e.isMarketInfoCalculated=!1})).addCase(N.fulfilled,(function(e,t){E(e,t.payload),e.isMarketInfoCalculated=!0,e.isMarketInfoInitialized=!0})).addCase(N.rejected,(function(e,t){var r=t.error;e.isMarketInfoCalculated=!1,console.log(r)}))}});Object(R.a)(U.actions);var H=U.reducer,W=(Object(A.a)((function(e){return e.markets}),(function(e){return e})),r(211)),G=r(46),V=r(723),$=r(151),Y=r(26),q=r.n(Y),_=Object(W.a)((function(){var e=Object(a.useState)(G.a.LONG),t=Object(u.a)(e,2),r=t[0],n=t[1],o=Object(a.useState)(new q.a(.02)),i=Object(u.a)(o,2),c=i[0],s=i[1],l=Object(a.useState)(new q.a(0)),d=Object(u.a)(l,2),b=d[0],x=d[1],p=Object(a.useState)(""),j=Object(u.a)(p,2),f=j[0],O=j[1],g=Object(a.useState)(new V.a({chainId:$.c.OPTIMISM,providerConfigs:[{rpcUrl:"https://optimism-mainnet.infura.io/v3/dd583584ac144f7984ac22cb0595646e"}]})),h=Object(u.a)(g,2),m=h[0];h[1];return Object(a.useMemo)((function(){return{side:r,setPositionSide:n,slippage:c,setSlippage:s,collateral:b,setCollateral:x,_collateral:f,_setCollateral:O,perpetualObject:m}}),[r,c,b,f])}));var J=Object(W.a)((function(){var e=Object(a.useState)("ETHUSD"),t=Object(u.a)(e,2),r=t[0],n=t[1];return Object(a.useMemo)((function(){return{marketticker:r,setMarketTicker:n}}),[r,n])}));var X=r(730),K=r(729),Q=r(743),Z=r(726);var ee=function(){var e=J.useContainer(),t=(e.marketticker,e.setMarketTicker),r=i.a.useState(!1),n=Object(u.a)(r,2),o=n[0],a=n[1];return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(Q.a,{variant:"standard",sx:{m:1,width:"300px"},children:[Object(M.jsx)(X.a,{size:"small",shrink:!0,sx:{left:"120px",color:"rgba(145, 153, 167, 1)",fontFamily:"Montserrat","&.Mui-focused":{color:"rgba(145, 153, 167, 1)"}},children:"Market"}),Object(M.jsx)(Z.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:o,defaultValue:"ETHUSD",onClose:function(){a(!1)},onOpen:function(){a(!0)},label:"Market",onChange:function(e){t(e.target.value)},sx:{"&:hover:not(.Mui-disabled):before":{borderBottom:"none"},fontFamily:"Montserrat Medium","& > svg":{color:"white"},"& ul":{backgroundColor:"rgba(9, 9, 10, 1)"},"&::before":{border:"none"},color:"white","&::after":{borderBottom:"none"}},children:["BTCUSD","ETHUSD","BNBUSD","AVAXUSD"].map((function(e){return Object(M.jsx)(K.a,{value:e,sx:{color:"black"},children:e},e)}))})]})})};var te=function(){var e=Object(D.b)(),t=_.useContainer().perpetualObject,r=J.useContainer().marketticker,n=Object(D.c)((function(e){return e.markets.isMarketInfoCalculated})),o=Object(D.c)((function(e){return e.markets.isMarketInfoInitialized})),i=Object(D.c)((function(e){return e.markets.marketIndexPrice})),c=function(){e(N({perpetualObject:t,tickerSymbol:r}))};return Object(a.useEffect)((function(){c();var e=setInterval((function(){return c()}),3e5);return function(){return clearInterval(e)}}),[r]),Object(M.jsx)(x.a,{sx:{backgroundColor:"rgba(9, 9, 10, 1)",py:1,px:1},children:Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",backgroundColor:"rgba(29, 29, 29, 1)",flexDirection:{xs:"column",sm:"row"},borderRadius:"10px",py:"4px"},children:[Object(M.jsx)(ee,{}),Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"flex-start",borderLeft:{sm:"1px solid rgba(145, 153, 167, 0.8)"},pl:{sm:2,md:3,xl:4},py:1},children:[Object(M.jsxs)(x.a,{sx:{pr:{xs:2,md:3,xl:4}},children:[Object(M.jsx)(p.a,{sx:{fontSize:"0.75rem",color:"rgba(145, 153, 167, 1)",fontFamily:"Montserrat"},children:"Index Price"}),n?Object(M.jsx)(p.a,{sx:{color:"rgb(255, 255, 255)",fontFamily:"Montserrat Medium"},children:i}):[o?Object(M.jsx)(p.a,{sx:{color:"rgb(255, 255, 255)",fontFamily:"Montserrat Medium"},children:i}):Object(M.jsx)(p.a,{sx:{color:"rgb(255, 255, 255)",fontFamily:"Montserrat Medium"},children:"0.0"})]]}),Object(M.jsxs)(x.a,{sx:{pr:{xs:2,md:3,xl:4}},children:[Object(M.jsx)(p.a,{sx:{fontSize:"0.75rem",color:"rgba(145, 153, 167, 1)",fontFamily:"Montserrat"},children:"Volume (24h)"}),Object(M.jsx)(p.a,{sx:{color:"rgb(255, 255, 255)",fontFamily:"Montserrat Medium"},children:"5,798,410.3"})]}),Object(M.jsxs)(x.a,{sx:{pr:{xs:2,md:3,xl:4}},children:[Object(M.jsx)(p.a,{sx:{fontSize:"0.75rem",color:"rgba(145, 153, 167, 1)",fontFamily:"Montserrat"},children:"Funding Rate (8h)"}),Object(M.jsx)(p.a,{sx:{color:"rgb(255, 255, 255)",fontFamily:"Montserrat Medium"},children:"0.0071%"})]})]})]})})},re=r(746);var ne=function(){var e=_.useContainer(),t=e.side,r=e.setPositionSide,n=Object(a.useCallback)((function(){t!==G.a.LONG&&r(G.a.LONG)}),[r,t]),o=Object(a.useCallback)((function(){t!==G.a.SHORT&&r(G.a.SHORT)}),[r,t]);return Object(M.jsxs)(re.a,{size:"large",sx:{py:"12px",border:"none",width:"100%"},children:[Object(M.jsx)(f.a,{sx:{width:"50%",fontSize:"12px",fontFamily:"Montserrat SemiBold",backgroundColor:t===G.a.LONG?"#52c41a":"gray",color:t===G.a.LONG?"white":"black",border:"1px solid transparent","&: hover":{backgroundColor:"#49bc10",border:"1px solid transparent"}},onClick:n,children:"Long"}),Object(M.jsx)(f.a,{sx:{width:"50%",fontSize:"12px",fontFamily:"Montserrat SemiBold",backgroundColor:t===G.a.SHORT?"#fa672d":"gray",color:t===G.a.SHORT?"white":"black",border:"1px solid transparent","&: hover":{backgroundColor:"#f85819",border:"1px solid transparent"}},onClick:o,children:"Short"})]})},oe=r(731),ae=r(747);new Y.Big(0),r(44),r(388);new RegExp(/\d(?=(\d{3})+\.)/g);function ie(e,t){var r=e.indexOf("."),n=e.split("").filter((function(e,t){return"."!==e||t===r})).join("");return n.includes(".")&&n.length>n.indexOf(".")+(t+1)?n.substr(0,n.indexOf(".")+(t+1)):n}function ce(e){var t=e.value,r=e.delay,n=void 0===r?200:r,o=e.onBeforeDebounce,i=e.onAfterDebounce,c=Object(a.useState)(t),s=Object(u.a)(c,2),l=s[0],d=s[1];return Object(a.useEffect)((function(){o&&o(t);var e=setTimeout((function(){d(t),i&&i(t)}),n);return function(){clearTimeout(e)}}),[t,n,o,i]),l}var se=function(){var e=_.useContainer(),t=e.collateral,r=e.setCollateral,n=_.useContainer(),o=n._collateral,i=n._setCollateral,c=ce({value:o,delay:800}),s=Object(a.useCallback)((function(e){var t=e.target.value;if(t>=0){var r=ie(t,2);i(r)}}),[i]);return Object(a.useEffect)((function(){if(""!==c){var e=new q.a(c);null!==t&&void 0!==t&&t.eq(e)||r(e)}}),[t,c,r]),Object(a.useMemo)((function(){return Object(M.jsx)(x.a,{sx:{my:2},children:Object(M.jsx)(oe.a,{id:"outlined-name",label:"Collateral",type:"number",value:o,placeholder:"0",InputLabelProps:{shrink:!0},InputProps:{endAdornment:Object(M.jsx)(ae.a,{position:"end",sx:{"& .MuiTypography-root":{fontSize:"12px",fontFamily:"Montserrat"}},children:"USDC"})},onChange:s,sx:{width:"100%","& > label, & .MuiFormLabel-root.Mui-focused":{color:"#a3a8b7",fontFamily:"Montserrat"},"& > div":{color:"white",fontSize:"18px",fontFamily:"Montserrat Medium"},"& .MuiInputBase-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#a3a8b7",borderWidth:"1px"},"& .MuiInputBase-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#a3a8b7"},"& .MuiTypography-root":{color:"#a3a8b7"},"& fieldset.MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.16)"}}})})}),[o,s])};var le=function(){var e=_.useContainer(),t=e.slippage,r=e.setSlippage,n=Object(a.useState)(""),o=Object(u.a)(n,2),i=o[0],c=o[1],s=ce({value:i,delay:800}),l=Object(a.useCallback)((function(e){var t=e.target.value;if(t>=0){var r=ie(t,2);c(r)}}),[c]);return Object(a.useEffect)((function(){if(""!==s){var e=new q.a(s);null!==t&&void 0!==t&&t.eq(e)||r(e)}}),[t,s,r]),Object(a.useMemo)((function(){return Object(M.jsx)(x.a,{sx:{my:2},children:Object(M.jsx)(oe.a,{id:"outlined-name",label:"Slippage",type:"number",value:i,placeholder:"0.02",InputLabelProps:{shrink:!0},InputProps:{endAdornment:Object(M.jsx)(ae.a,{position:"end",sx:{"& .MuiTypography-root":{fontSize:"12px",fontFamily:"Montserrat"}},children:"%"})},onChange:l,sx:{width:"100%","& > label, & .MuiFormLabel-root.Mui-focused":{color:"#a3a8b7",fontFamily:"Montserrat"},"& > div":{color:"white",fontSize:"18px",fontFamily:"Montserrat Medium"},"& .MuiInputBase-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#a3a8b7",borderWidth:"1px"},"& .MuiInputBase-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#a3a8b7"},"& .MuiTypography-root":{color:"#a3a8b7"},"& fieldset.MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.16)"}}})})}),[i,l])},de=Object(L.b)("position/calcPositionDetails",function(){var e=Object(g.a)(Object(O.a)().mark((function e(t){var r,n,o,a,i,c,s,l,d,u,b,x,p,j,f,g;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.connected,o=t.networkID,a=t.provider,i=t.perpetualObject,c=t.side,s=t.slippage,l=t.tickerSymbol,d=t.amountInput,u=!1,null!==d){e.next=4;break}return e.abrupt("return",new Promise((function(e){e({oppositeAmount:"",newPositionDraft:void 0,entryPrice:"",tradingFee:"",priceImpact:"",buyingPower:""})})));case 4:if(!d.eq(0)){e.next=6;break}return e.abrupt("return",new Promise((function(e){e({oppositeAmount:"0",newPositionDraft:void 0,entryPrice:"",tradingFee:"",priceImpact:"",buyingPower:""})})));case 6:return e.next=8,i.init();case 8:return x=null===(r=i.clearingHouse)||void 0===r?void 0:r.createPositionDraft({tickerSymbol:l,side:c,amountInput:d,isAmountInputBase:u}),console.log("NewPosition::",x),e.next=12,x.getEntryPrice();case 12:return p=e.sent,e.next=15,x.getTransactionFee();case 15:return j=e.sent,e.next=18,x.getPriceImpact();case 18:return f=e.sent,e.next=21,x.getOppositeAmountBound(s);case 21:if(g=e.sent,!0!==n||o!==C){e.next=29;break}return e.next=25,i.connect({signer:a.getSigner()});case 25:return e.next=27,x.getBuyingPower();case 27:return b=e.sent,e.abrupt("return",{oppositeAmount:g.toFixed(7),newPositionDraft:x,entryPrice:p.toFixed(2),tradingFee:j.toFixed(8),priceImpact:f.toFixed(5),buyingPower:b.toFixed(4)});case 29:return e.abrupt("return",{oppositeAmount:g.toFixed(7),newPositionDraft:x,entryPrice:p.toFixed(2),tradingFee:j.toFixed(8),priceImpact:f.toFixed(5),buyingPower:""});case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ue=Object(L.b)("position/openedPositionDetails",function(){var e=Object(g.a)(Object(O.a)().mark((function e(t,r){var n,o,a,i,c,s,l,d,u,b,x,p,j,f,g,h,m,y,w,v,k,M,F,S,B,I;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,o=t.networkID,a=t.provider,i=t.perpetualObject,c=t.tickerSymbol,s=r.dispatch,o!==C){e.next=61;break}if(!1!==i.hasConnected()){e.next=9;break}return e.next=7,i.init();case 7:return e.next=9,i.connect({signer:a.getSigner()});case 9:return e.next=11,null===i||void 0===i||null===(l=i.positions)||void 0===l?void 0:l.getTakerPositionByTickerSymbol(c);case 11:if(void 0===(b=e.sent)){e.next=16;break}s(pe()),e.next=18;break;case 16:return s(je()),e.abrupt("return",new Promise((function(e){e({isLoss:!1,posSize:"",side:G.a.LONG,pendingValue:"",isProfit:!1,pnlValue:"",openPrice:"",indexPrice:"",liquidationPrice:"",marginRatio:"",leverage:""})})));case 18:return x=b.sizeAbs.toFixed(8),p=b.side,e.next=22,i.contractReader.getVaultBalanceOfSettlementToken(n);case 22:return j=e.sent,console.log("Vault Balance of Settlement",j),e.next=26,i.contractReader.getNativeBalance(n);case 26:return f=e.sent,console.log("Native Value",f),"0xAD7b4C162707E0B2b5f6fdDbD3f8538A5fbA0d60","0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",e.next=32,i.contractReader.getAllowanceByToken(n,"0xAD7b4C162707E0B2b5f6fdDbD3f8538A5fbA0d60","0x94b008aA00579c1307B0EF2c499aD98a8ce58e58");case 32:return g=e.sent,console.log("Allowance Value",g),e.next=36,i.wallet.settlementToken.balanceOf(n);case 36:return h=e.sent,console.log("Position Actions",h),e.next=40,i.positions.getTotalPendingFundingPayments();case 40:return m=e.sent,y=-1===m[c].s,e.next=44,i.positions.getTakerPositionByTickerSymbol(c);case 44:return w=e.sent,e.next=47,w.getUnrealizedPnl();case 47:return v=e.sent,k=-1!==v.s,M=b.entryPrice.toFixed(2),e.next=52,i.contractReader.getIndexPrice(b.market.baseAddress);case 52:return F=e.sent,S=b.liquidationPrice,e.next=56,null===i||void 0===i||null===(d=i.positions)||void 0===d?void 0:d.getAccountMarginRatio();case 56:return B=e.sent,e.next=59,null===i||void 0===i||null===(u=i.positions)||void 0===u?void 0:u.getAccountLeverage();case 59:return I=e.sent,e.abrupt("return",{isLoss:y,posSize:x,side:p,pendingValue:m[c].toFixed(4),isProfit:k,pnlValue:v.toFixed(4),openPrice:M,indexPrice:F.toFixed(2),liquidationPrice:S.toFixed(1),marginRatio:(100*Number(B.toFixed(4))).toFixed(1),leverage:I.toFixed(2)});case 61:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),be=Object(L.c)({name:"positions",initialState:{isPositionOpened:!1,isCalculated:!1,isOpenedPositionCalculated:!1},reducers:{open:function(e){e.isPositionOpened=!0,e.isCalculated=!1},close:function(e){e.isPositionOpened=!1,e.isOpenedPositionCalculated=!1}},extraReducers:function(e){e.addCase(de.pending,(function(e){e.isCalculated=!1})).addCase(de.fulfilled,(function(e,t){E(e,t.payload),e.isCalculated=!0})).addCase(de.rejected,(function(e,t){var r=t.error;e.isCalculated=!1,console.log(r)})).addCase(ue.pending,(function(e){e.isOpenedPositionCalculated=!1})).addCase(ue.fulfilled,(function(e,t){E(e,t.payload),e.isOpenedPositionCalculated=!0})).addCase(ue.rejected,(function(e,t){var r=t.error;e.isOpenedPositionCalculated=!1,console.log(r)}))}}),xe=be.actions,pe=xe.open,je=xe.close,fe=be.reducer,Oe=(Object(A.a)((function(e){return e.positions}),(function(e){return e})),function(e,t,r){var n=Object(o.a)({severity:t},r);e.message=n}),ge=Object(L.c)({name:"messages",initialState:{message:null},reducers:{error:function(e,t){Oe(e,"error",t.payload)},info:function(e,t){Oe(e,"info",t.payload)},warning:function(e,t){Oe(e,"warning",t.payload)},success:function(e,t){Oe(e,"success",t.payload)},close:function(e){e.message=null}}}),he=ge.actions,me=he.error,ye=he.info,we=he.close,ve=he.warning,ke=he.success,Ce=ge.reducer,Me="Please connect your wallet.",Fe="Your transaction was successfully sent",Se="Your allowance was successfully updated",Be="Your deposit was successfully updated",Ie="Your position was successfully updated",ze="Your collateral was successfully withdrawed",Pe="Something went wrong",Te="Your position will update soon",De="Your position will close soon",Re=function(e){return new Promise((function(t){return setTimeout((function(){return t(null)}),1e3*e)}))},Le=function(e,t){var r=Pe;return 4001===e.code&&e.message.includes("User denied transaction signature")&&(r="User denied transaction signature"),t(me({text:r}))};var Ae=function(){var e=Object(D.b)(),t=S(),r=t.address,n=t.provider,o=t.chainID,i=t.connected,c=J.useContainer().marketticker,s=_.useContainer().collateral,l=_.useContainer()._setCollateral,d=_.useContainer().side,u=_.useContainer().slippage,b=_.useContainer().perpetualObject,j=c.substring(0,c.length-3),h=new V.a({chainId:$.c.OPTIMISM,providerConfigs:[{rpcUrl:"https://optimism-mainnet.infura.io/v3/dd583584ac144f7984ac22cb0595646e"}]}),m=Object(D.c)((function(e){return e.positions.isCalculated})),y=Object(D.c)((function(e){return e.positions.newPositionDraft})),w=Object(D.c)((function(e){return e.positions.oppositeAmount})),v=Object(D.c)((function(e){return e.positions.entryPrice})),k=Object(D.c)((function(e){return e.positions.tradingFee})),C=Object(D.c)((function(e){return e.positions.priceImpact})),F=Object(D.c)((function(e){return e.positions.buyingPower})),B=!m||null===s||s.eq(0)||!i,I=Object(a.useCallback)(Object(g.a)(Object(O.a)().mark((function t(){var a,i;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==b.hasConnected()){t.next=7;break}return t.next=4,b.init();case 4:return t.next=6,b.connect({signer:n.getSigner()});case 6:console.log("Pepr connected");case 7:return t.prev=7,t.next=10,null===b||void 0===b||null===(i=b.clearingHouse)||void 0===i?void 0:i.openPosition(y,u);case 10:return a=t.sent,console.log("Open Transaction",a),t.next=14,a.transaction.wait();case 14:return e(ke({text:Fe})),t.next=17,Re(.1);case 17:return e(ye({text:Te})),t.next=20,e(ue({address:r,networkID:o,provider:n,perpetualObject:h,tickerSymbol:c}));case 20:e(ye({text:Ie})),l(""),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(7),Le(t.t0,e);case 27:return t.prev=27,t.finish(27);case 29:case"end":return t.stop()}}),t,null,[[7,24,27,29]])}))),[y,u]),z=Object(a.useCallback)((function(t){console.log("Calling calc Position"),e(de({connected:i,networkID:o,provider:t,perpetualObject:b,side:d,slippage:u,tickerSymbol:c,amountInput:s}))}),[s,u,d,c]),P=Object(a.useCallback)((function(t){console.log("Calling calc openedPosition"),e(ue({address:r,networkID:o,provider:t,perpetualObject:b,tickerSymbol:c}))}),[i,c]);return Object(a.useEffect)((function(){z(n)}),[s,u,d,c]),Object(a.useEffect)((function(){P(n)}),[i,c]),Object(M.jsxs)(x.a,{sx:{mt:2},children:[Object(M.jsx)(x.a,{sx:{mb:2},children:Object(M.jsx)(oe.a,{id:"outlined-name",label:"Output",type:"number",disabled:!0,value:w,placeholder:"0",InputLabelProps:{shrink:!0},InputProps:{endAdornment:Object(M.jsx)(ae.a,{position:"end",sx:{"& .MuiTypography-root":{fontSize:"12px",fontFamily:"Montserrat"}},children:j})},sx:{width:"100%","& .MuiFormLabel-root.Mui-disabled, & .MuiFormLabel-root.Mui-focused, & .MuiTypography-root":{color:"#a3a8b7",fontFamily:"Montserrat"},"& > div":{color:"white",fontSize:"18px",fontFamily:"Montserrat Medium"},"& .MuiInputBase-root.MuiOutlinedInput-root.Mui-disabled":{color:"#a3a8b7"},"& .MuiInputBase-root > input":{"-webkit-text-fill-color":"#a3a8b7"},"& .MuiInputBase-root.MuiOutlinedInput-root.Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.16)"}}})}),Object(M.jsxs)(x.a,{sx:{mx:"auto",display:"flex",justifyContent:"space-between",pb:1},children:[Object(M.jsx)(p.a,{sx:{fontSize:"14px",color:"#a3a8b7",fontFamily:"Montserrat"},children:"Buying Power"}),Object(M.jsxs)(p.a,{sx:{fontSize:"14px",color:"white",fontFamily:"Montserrat Medium"},children:["$",F]})]}),Object(M.jsx)(p.a,{sx:{mx:"auto",py:1,textAlign:"left",color:"white",fontFamily:"Montserrat Bold",fontSize:"18px"},children:"Summary"}),Object(M.jsxs)(x.a,{sx:{mx:"auto",display:"flex",justifyContent:"space-between",pb:1},children:[Object(M.jsx)(p.a,{sx:{fontSize:"14px",color:"#a3a8b7",fontFamily:"Montserrat"},children:"Entry Price"}),Object(M.jsxs)(p.a,{sx:{fontSize:"14px",color:"white",fontFamily:"Montserrat Medium"},children:["$",v]})]}),Object(M.jsxs)(x.a,{sx:{mx:"auto",display:"flex",justifyContent:"space-between",pb:1},children:[Object(M.jsx)(p.a,{sx:{fontSize:"14px",color:"#a3a8b7",fontFamily:"Montserrat"},children:"Trading Fee"}),Object(M.jsxs)(p.a,{sx:{fontSize:"14px",color:"white",fontFamily:"Montserrat Medium"},children:["$",k]})]}),Object(M.jsxs)(x.a,{sx:{mx:"auto",display:"flex",justifyContent:"space-between",pb:1},children:[Object(M.jsx)(p.a,{sx:{fontSize:"14px",color:"#a3a8b7",fontFamily:"Montserrat"},children:"Price Impact"}),Object(M.jsxs)(p.a,{sx:{fontSize:"14px",color:"white",fontFamily:"Montserrat Medium"},children:[C,"%"]})]}),Object(M.jsxs)(f.a,{variant:"contained",disabled:B,sx:{width:"100%",paddingY:"12px",mt:1,backgroundColor:d===G.a.LONG?"success.light":"#ef5350",display:"block",fontFamily:"Montserrat SemiBold",mx:"auto","&: hover":{backgroundColor:d===G.a.LONG?"success.main":"#f44336"},"&: disabled":{backgroundColor:d===G.a.LONG?"success.light":"#ef5350",color:"black",opacity:.8}},onClick:I,children:["Confirm ",d]})]})},Ee=r(118),Ne=r(728),Ue=r(748);function He(){var e=Object(D.b)(),t=S(),r=t.connected,n=t.provider,o=_.useContainer().perpetualObject,a=_.useContainer().slippage,i=J.useContainer().marketticker,c=i,s=i.substring(0,i.length-3),l=Object(D.c)((function(e){return e.positions.isOpenedPositionCalculated})),d=Object(D.c)((function(e){return e.positions.isLoss})),u=Object(D.c)((function(e){return e.positions.posSize})),b=Object(D.c)((function(e){return e.positions.side})),j=Object(D.c)((function(e){return e.positions.pendingValue})),h=Object(D.c)((function(e){return e.positions.isProfit})),m=Object(D.c)((function(e){return e.positions.pnlValue})),y=Object(D.c)((function(e){return e.positions.openPrice})),w=Object(D.c)((function(e){return e.positions.indexPrice})),v=Object(D.c)((function(e){return e.positions.liquidationPrice})),k=Object(D.c)((function(e){return e.positions.marginRatio})),C=Object(D.c)((function(e){return e.positions.leverage})),F=function(){var t=Object(g.a)(Object(O.a)().mark((function t(){var r,i,s,l;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==o.hasConnected()){t.next=6;break}return t.next=4,o.init();case 4:return t.next=6,o.connect({signer:n.getSigner()});case 6:return t.next=8,null===o||void 0===o||null===(r=o.positions)||void 0===r?void 0:r.getTakerPositionByTickerSymbol(c);case 8:if(void 0===(i=t.sent)){t.next=29;break}return t.prev=10,t.next=13,null===o||void 0===o||null===(l=o.clearingHouse)||void 0===l?void 0:l.closePosition(i,a);case 13:return s=t.sent,console.log("Close Transaction",s),t.next=17,s.transaction.wait();case 17:return e(ke({text:Fe})),t.next=20,Re(.5);case 20:e(ye({text:De})),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(10),Le(t.t0,e);case 26:return t.prev=26,e(je()),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[10,23,26,29]])})));return function(){return t.apply(this,arguments)}}();return Object(M.jsx)(x.a,{children:l&&Object(M.jsxs)(x.a,{sx:{maxWidth:"360px"},children:[Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[Object(M.jsx)(p.a,{sx:{fontSize:"16px",mr:1,color:"white",fontFamily:"Montserrat"},children:u}),Object(M.jsx)(p.a,{sx:{fontSize:"12px",color:"#a3a8b7",fontFamily:"Montserrat"},children:s})]}),Object(M.jsx)(p.a,{sx:{fontSize:"16px",color:"LONG"===b?"rgba(94, 217, 151, 1)":"rgba(234, 98, 98, 1)",fontFamily:"Montserrat Medium"},children:b})]}),Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[Object(M.jsx)(p.a,{sx:{fontSize:"14px",color:"#a3a8b7",fontFamily:"Montserrat"},children:"Pending Funding Payment"}),Object(M.jsx)(p.a,{sx:{fontSize:"16px",color:!0===d?"rgba(234, 98, 98, 1)":"rgba(94, 217, 151, 1)",fontFamily:"Montserrat Medium"},children:j})]}),Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[Object(M.jsx)(p.a,{sx:{fontSize:"14px",color:"#a3a8b7",fontFamily:"Montserrat"},children:"Profit / Loss"}),Object(M.jsx)(p.a,{sx:{fontSize:"16px",color:!0===h?"rgba(94, 217, 151, 1)":"rgba(234, 98, 98, 1)",fontFamily:"Montserrat Medium"},children:m})]}),Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[Object(M.jsx)(p.a,{sx:{fontSize:"14px",color:"#a3a8b7",fontFamily:"Montserrat"},children:"Avg. Open Price"}),Object(M.jsx)(p.a,{sx:{fontSize:"16px",color:"white",fontFamily:"Montserrat Medium"},children:y})]}),Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[Object(M.jsx)(p.a,{sx:{fontSize:"14px",color:"#a3a8b7",fontFamily:"Montserrat"},children:"Index Price"}),Object(M.jsx)(p.a,{sx:{fontSize:"16px",color:"white",fontFamily:"Montserrat Medium"},children:w})]}),Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[Object(M.jsx)(p.a,{sx:{fontSize:"14px",color:"#a3a8b7",fontFamily:"Montserrat"},children:"Liquidation Price"}),Object(M.jsx)(p.a,{sx:{fontSize:"16px",color:"white",fontFamily:"Montserrat Medium"},children:v})]}),Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[Object(M.jsx)(p.a,{sx:{fontSize:"14px",color:"#a3a8b7",fontFamily:"Montserrat"},children:"Margin Ratio"}),Object(M.jsxs)(p.a,{sx:{fontSize:"16px",color:"white",fontFamily:"Montserrat Medium"},children:[k,"%"]})]}),Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[Object(M.jsx)(p.a,{sx:{fontSize:"14px",color:"#a3a8b7",fontFamily:"Montserrat"},children:"Leverage"}),Object(M.jsxs)(p.a,{sx:{fontSize:"16px",color:"white",fontFamily:"Montserrat Medium"},children:[C,"x"]})]}),Object(M.jsx)(x.a,{sx:{display:"flex"},children:Object(M.jsx)(f.a,{variant:"contained",disabled:!1===r,sx:{paddingY:"8px",mt:1,px:4,backgroundColor:"#185993",fontFamily:"Montserrat SemiBold",backgroundImage:"linear-gradient(to right,#185993 0,#236dae 51%,#185993 100%)",backgroundSize:"200%",boxShadow:"5px 5px 10px 0 rgba(24,89,147,0.25)",color:"#a3a8b7","&: hover":{backgroundColor:"#2376c0",color:"white",backgroundPosition:"right center"}},onClick:F,children:"Close"})})]})})}var We=["children","value","index"];function Ge(e){var t=e.children,r=e.value,n=e.index,a=Object(Ee.a)(e,We);return Object(M.jsx)("div",Object(o.a)(Object(o.a)({role:"tabpanel",hidden:r!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},a),{},{children:r===n&&Object(M.jsx)(x.a,{sx:{py:2},children:t})}))}function Ve(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function $e(){var e=Object(a.useState)(0),t=Object(u.a)(e,2),r=t[0],n=t[1],i=Object(D.c)((function(e){return e.positions.isPositionOpened}));console.log("OPened position",i);return Object(M.jsxs)(x.a,{sx:{width:"100%"},children:[Object(M.jsx)(x.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(M.jsxs)(Ne.a,{value:r,onChange:function(e,t){n(t)},"aria-label":"basic tabs example",textColor:"primary",TabIndicatorProps:{style:{backgroundColor:"white"}},sx:{"& .MuiTab-root":{color:"#a3a8b7",fontFamily:"Montserrat SemiBold",fontSize:"18px",textTransform:"none"},"& .MuiTab-root.Mui-selected":{color:"white"}},children:[Object(M.jsx)(Ue.a,Object(o.a)({label:"Position"},Ve(0))),Object(M.jsx)(Ue.a,Object(o.a)({label:"Limit Orders"},Ve(1))),Object(M.jsx)(Ue.a,Object(o.a)({label:"Fills"},Ve(2)))]})}),Object(M.jsx)(Ge,{value:r,index:0,children:i?Object(M.jsx)(He,{}):Object(M.jsx)(p.a,{sx:{color:"#a3a8b7"},children:"You don't have any opened position yet"})}),Object(M.jsx)(Ge,{value:r,index:1,children:"Limit Orders"}),Object(M.jsx)(Ge,{value:r,index:2,children:"Fills"})]})}var Ye=function(){return Object(M.jsx)(x.a,{sx:{backgroundColor:"rgba(9, 9, 10, 1)",px:1,pb:"400px"},children:Object(M.jsxs)(x.a,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"}},children:[Object(M.jsx)(x.a,{sx:{boxSizing:"border-box",flexGrow:"1",backgroundColor:"rgba(29, 29, 29, 1)",borderRadius:"10px",p:"12px"},children:Object(M.jsx)($e,{})}),Object(M.jsxs)(x.a,{sx:{width:{xs:"100%",md:"360px"},boxSizing:"border-box",backgroundColor:"rgba(29, 29, 29, 1)",borderRadius:"10px",px:"12px",pb:"12px",ml:{md:1},mt:{xs:1,md:"0px"}},children:[Object(M.jsx)(ne,{}),Object(M.jsx)(se,{}),Object(M.jsx)(le,{}),Object(M.jsx)(Ae,{})]})]})})},qe=Object(L.b)("user/calcUserCollateralDetails",function(){var e=Object(g.a)(Object(O.a)().mark((function e(t){var r,n,o,a,i,c,s;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.address,n=t.networkID,o=t.perpetualObject,n!==C){e.next=19;break}return e.next=4,o.init();case 4:return e.next=6,o.contractReader.getFreeCollateral(r);case 6:return a=e.sent,e.next=9,o.contractReader.getAccountValue(r);case 9:return i=e.sent,e.next=12,o.vault.getBalanceList();case 12:return c=e.sent,e.next=15,o.vault.getFreeCollateralList();case 15:return s=e.sent,console.log("Collateral Balance List",c),console.log("Collateral Free Collateral List",s),e.abrupt("return",{freeCollateral:a.toFixed(4),accountValue:i.toFixed(4),collateralBalanceList:c,collateralFreeCollateralList:s});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_e=Object(L.b)("user/calcUserAccountlDetails",function(){var e=Object(g.a)(Object(O.a)().mark((function e(t){var r,n,o,a,i,c,s,l;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.networkID,n=t.provider,o=t.perpetualObject,r!==C){e.next=22;break}return e.next=4,o.init();case 4:return e.next=6,o.connect({signer:n.getSigner()});case 6:return e.next=8,o.wallet.getAllowanceList();case 8:return a=e.sent,e.next=11,o.wallet.getBalanceList();case 11:return i=e.sent,e.next=14,o.wallet.getBalanceEth();case 14:return c=e.sent,e.next=17,o.wallet.getCollateralTokenPriceList();case 17:return s=e.sent,l=o.wallet.collateralTokenList,console.log("Collateral Token List",l),console.log("Allowance List",a),e.abrupt("return",{allowanceList:a,balanceList:i,balanceEth:c.toFixed(3),collateralTokenPriceList:s});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Je=Object(L.b)("user/changeApproval",function(){var e=Object(g.a)(Object(O.a)().mark((function e(t,r){var n,o,a,i,c,s,l;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.provider,o=t.networkID,a=t.tokenIndex,i=t.perpetualObject,c=r.dispatch,n){e.next=5;break}return c(ve({text:Me})),e.abrupt("return");case 5:if(o!==C){e.next=31;break}return e.next=8,i.init();case 8:return e.next=10,i.connect({signer:n.getSigner()});case 10:return e.prev=10,l=i.wallet.collateralTokenList,e.next=14,i.wallet.approve(l[a]);case 14:return s=e.sent,e.next=17,s.transaction.wait();case 17:c(ke({text:Fe})),e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(10),e.abrupt("return",Le(e.t0,c));case 23:return e.prev=23,e.finish(23);case 25:return e.next=27,Re(4);case 27:return e.next=29,c(_e({networkID:o,provider:n,perpetualObject:i}));case 29:return c(ye({text:Se})),e.abrupt("return");case 31:case"end":return e.stop()}}),e,null,[[10,20,23,25]])})));return function(t,r){return e.apply(this,arguments)}}()),Xe=Object(L.b)("user/changeDepositCollateral",function(){var e=Object(g.a)(Object(O.a)().mark((function e(t,r){var n,o,a,i,c,s,l,d,u;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,o=t.provider,a=t.networkID,i=t.tokenIndex,c=t.amount,s=t.perpetualObject,l=r.dispatch,o){e.next=5;break}return l(ve({text:Me})),e.abrupt("return");case 5:if(a!==C){e.next=42;break}return e.next=8,s.init();case 8:return e.next=10,s.connect({signer:o.getSigner()});case 10:if(e.prev=10,void 0===i){e.next=20;break}return u=s.wallet.collateralTokenList,e.next=15,s.vault.deposit(u[i],c);case 15:return d=e.sent,e.next=18,d.transaction.wait();case 18:e.next=25;break;case 20:return e.next=22,s.vault.depositETH(c);case 22:return d=e.sent,e.next=25,d.transaction.wait();case 25:l(ke({text:Fe})),e.next=32;break;case 28:return e.prev=28,e.t0=e.catch(10),console.log("Error",e.t0),e.abrupt("return",Le(e.t0,l));case 32:return e.prev=32,e.finish(32);case 34:return e.next=36,Re(4);case 36:return e.next=38,l(_e({networkID:a,provider:o,perpetualObject:s}));case 38:return e.next=40,l(qe({address:n,networkID:a,perpetualObject:s}));case 40:return l(ye({text:Be})),e.abrupt("return");case 42:case"end":return e.stop()}}),e,null,[[10,28,32,34]])})));return function(t,r){return e.apply(this,arguments)}}()),Ke=Object(L.b)("user/withdrawCollateral",function(){var e=Object(g.a)(Object(O.a)().mark((function e(t,r){var n,o,a,i,c,s,l,d,u;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,o=t.provider,a=t.networkID,i=t.tokenIndex,c=t.amount,s=t.perpetualObject,l=r.dispatch,o){e.next=5;break}return l(ve({text:Me})),e.abrupt("return");case 5:if(a!==C){e.next=42;break}return e.next=8,s.init();case 8:return e.next=10,s.connect({signer:o.getSigner()});case 10:if(e.prev=10,void 0===i){e.next=20;break}return u=s.wallet.collateralTokenList,e.next=15,s.vault.withdraw(u[i],c);case 15:return d=e.sent,e.next=18,d.transaction.wait();case 18:e.next=25;break;case 20:return e.next=22,s.vault.withdrawETH(c);case 22:return d=e.sent,e.next=25,d.transaction.wait();case 25:l(ke({text:Fe})),e.next=32;break;case 28:return e.prev=28,e.t0=e.catch(10),console.log("Error",e.t0),e.abrupt("return",Le(e.t0,l));case 32:return e.prev=32,e.finish(32);case 34:return e.next=36,Re(4);case 36:return e.next=38,l(_e({networkID:a,provider:o,perpetualObject:s}));case 38:return e.next=40,l(qe({address:n,networkID:a,perpetualObject:s}));case 40:return l(ye({text:ze})),e.abrupt("return");case 42:case"end":return e.stop()}}),e,null,[[10,28,32,34]])})));return function(t,r){return e.apply(this,arguments)}}()),Qe=Object(L.c)({name:"user",initialState:{isUserCollateralCalculated:!1,isUserCollateralInitialized:!1,isUserAccountCalculated:!1},reducers:{},extraReducers:function(e){e.addCase(qe.pending,(function(e){e.isUserCollateralCalculated=!1})).addCase(qe.fulfilled,(function(e,t){E(e,t.payload),e.isUserCollateralCalculated=!0,e.isUserCollateralInitialized=!0})).addCase(qe.rejected,(function(e,t){var r=t.error;e.isUserCollateralInitialized=!1,console.log(r)})).addCase(_e.pending,(function(e){e.isUserAccountCalculated=!1})).addCase(_e.fulfilled,(function(e,t){E(e,t.payload),e.isUserAccountCalculated=!0})).addCase(_e.rejected,(function(e,t){var r=t.error;e.isUserAccountCalculated=!1,console.log(r)}))}});Object(R.a)(Qe.actions);var Ze=Qe.reducer,et=(Object(A.a)((function(e){return e.user}),(function(e){return e})),r(736));var tt=function(){var e=Object(D.b)(),t=S(),r=t.address,n=t.chainID,o=t.connected,i=_.useContainer().perpetualObject,c=Object(D.c)((function(e){return e.user.isUserCollateralCalculated})),s=Object(D.c)((function(e){return e.user.isUserCollateralInitialized})),l=Object(D.c)((function(e){return e.user.freeCollateral})),d=Object(D.c)((function(e){return e.user.accountValue})),u=function(){!0===o&&e(qe({address:r,networkID:n,perpetualObject:i}))};return Object(a.useEffect)((function(){u();var e=setInterval((function(){return u()}),6e4);return function(){return clearInterval(e)}}),[o]),Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(et.a,{container:!0,spacing:4,sx:{marginTop:"12px",marginLeft:"-16px","& > .MuiGrid-item":{p:2}},children:[Object(M.jsx)(et.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(M.jsxs)(x.a,{sx:{paddingY:"12px",borderRadius:"10px",backgroundColor:"rgba(29, 29, 29, 1)"},children:[Object(M.jsx)(p.a,{sx:{color:"rgba(145, 153, 167, 1)",fontSize:"20px",fontFamily:"Montserrat Medium"},children:"Total Collateral"}),c?Object(M.jsxs)(p.a,{sx:{color:"white",fontSize:"24px",fontFamily:"Montserrat Bold"},children:["$",d]}):[s?Object(M.jsxs)(p.a,{sx:{color:"white",fontSize:"24px",fontFamily:"Montserrat Bold"},children:["$",d]}):Object(M.jsx)(p.a,{sx:{color:"white",fontSize:"24px",fontFamily:"Montserrat Bold"},children:"$0.0"})]]})}),Object(M.jsx)(et.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:Object(M.jsxs)(x.a,{sx:{paddingY:"12px",borderRadius:"10px",backgroundColor:"rgba(29, 29, 29, 1)"},children:[Object(M.jsx)(p.a,{sx:{color:"rgba(145, 153, 167, 1)",fontSize:"20px",fontFamily:"Montserrat Medium"},children:"Free Collateral"}),c?Object(M.jsxs)(p.a,{sx:{color:"white",fontSize:"24px",fontFamily:"Montserrat Bold"},children:["$",l]}):[s?Object(M.jsxs)(p.a,{sx:{color:"white",fontSize:"24px",fontFamily:"Montserrat Bold"},children:["$",l]}):Object(M.jsx)(p.a,{sx:{color:"white",fontSize:"24px",fontFamily:"Montserrat Bold"},children:"$0.0"})]]})})]})})},rt=r(749),nt=r(740),ot=r(750),at=r(751),it=r(752),ct=r(753),st=r(754),lt=r(725),dt=r(755),ut=r(735),bt=r(179),xt=r.n(bt),pt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"28rem",bgcolor:"background.paper",background:"rgb(38, 40, 42)",borderRadius:"24px",outline:"transparent solid 2px",outlineOffset:"2px",boxShadow:"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px,rgba(0, 0, 0, 0.2) 0px 5px 10px,rgba(0, 0, 0, 0.4) 0px 15px 40px",p:2},jt=["USDC","WETH","FRAX","OP","USDT","ETH"];var ft=function(){var e=Object(D.b)(),t=S(),r=t.address,n=t.provider,o=t.chainID,i=t.connected,c=_.useContainer().perpetualObject,s=Object(a.useState)(!1),l=Object(u.a)(s,2),d=l[0],b=l[1],j=Object(a.useState)(!1),h=Object(u.a)(j,2),m=h[0],y=h[1],w=Object(a.useState)(0),v=Object(u.a)(w,2),k=v[0],C=v[1],F=Object(a.useState)(0),B=Object(u.a)(F,2),I=B[0],z=B[1],P=Object(D.c)((function(e){return e.user.isUserAccountCalculated})),T=Object(D.c)((function(e){return e.user.collateralBalanceList})),R=Object(D.c)((function(e){return e.user.collateralFreeCollateralList})),L=Object(D.c)((function(e){return e.user.allowanceList})),A=Object(D.c)((function(e){return e.user.collateralTokenPriceList})),E=Object(D.c)((function(e){return e.user.balanceList})),N=Object(D.c)((function(e){return e.user.balanceEth})),U=function(e){b(!0),C(e)},H=function(e){y(!0),C(e)},W=function(){b(!1),y(!1),z(0)},G=function(e){var t=new RegExp("([0-9]+([.][0-9]*)?|[.][0-9]+)$"),r=new RegExp("^([0-9]+[.][0]*)$");if(""===e.target.value||t.test(e.target.value)){var n=e.target.value;r.test(e.target.value)?z(n):(n=Math.floor(1e3*n)/1e3,d?k<5&&n<=Number(E[k].toFixed(3))||5===k&&n<=Number(N)?z(n):z(Number(k<5?E[k].toFixed(2):N)):k<5&&n<=Number(R[k].toFixed(3))||5===k&&n<=Number(R[1].toFixed(3))?z(n):z(Number(k<5?R[k].toFixed(3):R[1].toFixed(3))))}},V=function(){z(Number(d?k<5?E[k].toFixed(3):N:k<5?R[k].toFixed(3):R[1].toFixed(3)))},$=function(){var t=Object(g.a)(Object(O.a)().mark((function t(){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Je({provider:n,networkID:o,tokenIndex:k,perpetualObject:c}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Y=function(){var t=Object(g.a)(Object(O.a)().mark((function t(){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(5!==k){t.next=5;break}return t.next=3,e(Xe({address:r,provider:n,networkID:o,amount:new q.a(I),perpetualObject:c}));case 3:t.next=7;break;case 5:return t.next=7,e(Xe({address:r,provider:n,networkID:o,tokenIndex:k,amount:new q.a(I),perpetualObject:c}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),J=function(){var t=Object(g.a)(Object(O.a)().mark((function t(){return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(5!==k){t.next=5;break}return t.next=3,e(Ke({address:r,provider:n,networkID:o,amount:new q.a(I),perpetualObject:c}));case 3:t.next=7;break;case 5:return t.next=7,e(Ke({address:r,provider:n,networkID:o,tokenIndex:k,amount:new q.a(I),perpetualObject:c}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){!0===i&&e(_e({networkID:o,provider:n,perpetualObject:c}))}),[i]),Object(M.jsxs)(x.a,{sx:{},children:[Object(M.jsx)(rt.a,{component:nt.a,sx:{mt:2,borderRadius:"10px",backgroundColor:"rgba(29, 29, 29, 1)"},children:Object(M.jsxs)(ot.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(M.jsx)(at.a,{children:Object(M.jsxs)(it.a,{children:[Object(M.jsx)(ct.a,{sx:{fontSize:"18px",fontFamily:"Montserrat Medium",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"rgba(145, 153, 167, 1)"},children:"COIN"}),Object(M.jsx)(ct.a,{sx:{fontSize:"18px",fontFamily:"Montserrat Medium",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"rgba(145, 153, 167, 1)"},align:"right",children:"WALLET"}),Object(M.jsx)(ct.a,{sx:{fontSize:"18px",fontFamily:"Montserrat Medium",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"rgba(145, 153, 167, 1)"},align:"right",children:"AMOUNT"}),Object(M.jsx)(ct.a,{sx:{fontSize:"18px",fontFamily:"Montserrat Medium",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"rgba(145, 153, 167, 1)"},align:"right",children:"WITHDRAWABLE"}),Object(M.jsx)(ct.a,{sx:{fontSize:"18px",fontFamily:"Montserrat Medium",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"rgba(145, 153, 167, 1)"},align:"right",children:"ACTION"})]})}),P&&Object(M.jsxs)(st.a,{children:[Object(M.jsxs)(it.a,{children:[Object(M.jsx)(ct.a,{component:"th",scope:"row",sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},children:Object(M.jsxs)(x.a,{children:[Object(M.jsx)(p.a,{sx:{fontSize:"22px",lineHeight:"1.2",fontFamily:"Montserrat Bold"},children:"USDC"}),Object(M.jsxs)(p.a,{sx:{fontSize:"18px",lineHeight:"1.2",fontFamily:"Montserrat",color:"rgba(145, 153, 167, 1)"},children:["$",A[0].toFixed(2)]})]})}),Object(M.jsxs)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:[E[0].toFixed(2)," USD"]}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:T[0].toFixed(2)}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:R[0].toFixed(2)}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[Object(M.jsx)(f.a,{disabled:!i,sx:{padding:"6px 16px",borderRadius:"6px",color:"rgb(238, 233, 226)",textTransform:"none",backgroundColor:"transparent",boxSizing:"border-box",border:"1px solid rgb(238, 233, 226)",fontFamily:"Montserrat SemiBold","&: hover":{backgroundColor:"rgb(234, 216, 184)",color:"rgb(44, 46, 55)"},"&: disabled":{backgroundColor:"transparent",color:"rgb(238, 233, 226)"}},onClick:function(){return H(0)},children:"Withdraw"}),Object(M.jsx)(f.a,{disabled:!i,sx:{padding:"6px 16px",borderRadius:"6px",ml:1,color:"rgb(44, 46, 55)",textTransform:"none",backgroundColor:"rgb(248, 204, 130)",fontFamily:"Montserrat SemiBold","&: hover":{backgroundColor:"rgb(234, 216, 184)",color:"rgb(44, 46, 55)"},"&: disabled":{backgroundColor:"rgb(248, 204, 130)",color:"rgb(44, 46, 55)"}},onClick:function(){return U(0)},children:"Deposit"})]})})]}),Object(M.jsxs)(it.a,{children:[Object(M.jsx)(ct.a,{component:"th",scope:"row",sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},children:Object(M.jsxs)(x.a,{children:[Object(M.jsx)(p.a,{sx:{fontSize:"22px",lineHeight:"1.2",fontFamily:"Montserrat Bold"},children:"ETH"}),Object(M.jsxs)(p.a,{sx:{fontSize:"18px",lineHeight:"1.2",fontFamily:"Montserrat",color:"rgba(145, 153, 167, 1)"},children:["$",A[1].toFixed(2)]})]})}),Object(M.jsxs)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:[N," ETH"]}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:T[1].toFixed(3)}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:R[1].toFixed(3)}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[Object(M.jsx)(f.a,{disabled:!i,sx:{padding:"6px 16px",borderRadius:"6px",color:"rgb(238, 233, 226)",textTransform:"none",backgroundColor:"transparent",boxSizing:"border-box",border:"1px solid rgb(238, 233, 226)",fontFamily:"Montserrat SemiBold","&: hover":{backgroundColor:"rgb(234, 216, 184)",color:"rgb(44, 46, 55)"},"&: disabled":{backgroundColor:"transparent",color:"rgb(238, 233, 226)"}},onClick:function(){return H(5)},children:"Withdraw"}),Object(M.jsx)(f.a,{disabled:!i,sx:{padding:"6px 16px",borderRadius:"6px",ml:1,color:"rgb(44, 46, 55)",textTransform:"none",backgroundColor:"rgb(248, 204, 130)",fontFamily:"Montserrat SemiBold","&: hover":{backgroundColor:"rgb(234, 216, 184)",color:"rgb(44, 46, 55)"},"&: disabled":{backgroundColor:"rgb(248, 204, 130)",color:"rgb(44, 46, 55)"}},onClick:function(){return U(5)},children:"Deposit"})]})})]}),Object(M.jsxs)(it.a,{children:[Object(M.jsx)(ct.a,{component:"th",scope:"row",sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},children:Object(M.jsxs)(x.a,{children:[Object(M.jsx)(p.a,{sx:{fontSize:"22px",lineHeight:"1.2",fontFamily:"Montserrat Bold"},children:"WETH"}),Object(M.jsxs)(p.a,{sx:{fontSize:"18px",lineHeight:"1.2",fontFamily:"Montserrat",color:"rgba(145, 153, 167, 1)"},children:["$",A[1].toFixed(2)]})]})}),Object(M.jsxs)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:[E[1].toFixed(3)," WETH"]}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:T[1].toFixed(3)}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:R[1].toFixed(3)}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[Object(M.jsx)(f.a,{disabled:!i,sx:{padding:"6px 16px",borderRadius:"6px",color:"rgb(238, 233, 226)",textTransform:"none",backgroundColor:"transparent",boxSizing:"border-box",border:"1px solid rgb(238, 233, 226)",fontFamily:"Montserrat SemiBold","&: hover":{backgroundColor:"rgb(234, 216, 184)",color:"rgb(44, 46, 55)"},"&: disabled":{backgroundColor:"transparent",color:"rgb(238, 233, 226)"}},onClick:function(){return H(1)},children:"Withdraw"}),Object(M.jsx)(f.a,{disabled:!i,sx:{padding:"6px 16px",borderRadius:"6px",ml:1,color:"rgb(44, 46, 55)",textTransform:"none",backgroundColor:"rgb(248, 204, 130)",fontFamily:"Montserrat SemiBold","&: hover":{backgroundColor:"rgb(234, 216, 184)",color:"rgb(44, 46, 55)"},"&: disabled":{backgroundColor:"rgb(248, 204, 130)",color:"rgb(44, 46, 55)"}},onClick:function(){return U(1)},children:"Deposit"})]})})]}),Object(M.jsxs)(it.a,{children:[Object(M.jsx)(ct.a,{component:"th",scope:"row",sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},children:Object(M.jsxs)(x.a,{children:[Object(M.jsx)(p.a,{sx:{fontSize:"22px",lineHeight:"1.2",fontFamily:"Montserrat Bold"},children:"FRAX"}),Object(M.jsxs)(p.a,{sx:{fontSize:"18px",lineHeight:"1.2",fontFamily:"Montserrat",color:"rgba(145, 153, 167, 1)"},children:["$",A[2].toFixed(2)]})]})}),Object(M.jsxs)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:[E[2].toFixed(2)," FRAX"]}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:T[2].toFixed(2)}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:R[2].toFixed(2)}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[Object(M.jsx)(f.a,{disabled:!i,sx:{padding:"6px 16px",borderRadius:"6px",color:"rgb(238, 233, 226)",textTransform:"none",backgroundColor:"transparent",boxSizing:"border-box",border:"1px solid rgb(238, 233, 226)",fontFamily:"Montserrat SemiBold","&: hover":{backgroundColor:"rgb(234, 216, 184)",color:"rgb(44, 46, 55)"},"&: disabled":{backgroundColor:"transparent",color:"rgb(238, 233, 226)"}},onClick:function(){return H(2)},children:"Withdraw"}),Object(M.jsx)(f.a,{disabled:!i,sx:{padding:"6px 16px",borderRadius:"6px",ml:1,color:"rgb(44, 46, 55)",textTransform:"none",backgroundColor:"rgb(248, 204, 130)",fontFamily:"Montserrat SemiBold","&: hover":{backgroundColor:"rgb(234, 216, 184)",color:"rgb(44, 46, 55)"},"&: disabled":{backgroundColor:"rgb(248, 204, 130)",color:"rgb(44, 46, 55)"}},onClick:function(){return U(2)},children:"Deposit"})]})})]}),Object(M.jsxs)(it.a,{children:[Object(M.jsx)(ct.a,{component:"th",scope:"row",sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},children:Object(M.jsxs)(x.a,{children:[Object(M.jsx)(p.a,{sx:{fontSize:"22px",lineHeight:"1.2",fontFamily:"Montserrat Bold"},children:"OP"}),Object(M.jsxs)(p.a,{sx:{fontSize:"18px",lineHeight:"1.2",fontFamily:"Montserrat",color:"rgba(145, 153, 167, 1)"},children:["$",A[3].toFixed(2)]})]})}),Object(M.jsxs)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:[E[3].toFixed(2)," OP"]}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:T[3].toFixed(2)}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:R[3].toFixed(2)}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[Object(M.jsx)(f.a,{disabled:!i,sx:{padding:"6px 16px",borderRadius:"6px",color:"rgb(238, 233, 226)",textTransform:"none",backgroundColor:"transparent",boxSizing:"border-box",border:"1px solid rgb(238, 233, 226)",fontFamily:"Montserrat SemiBold","&: hover":{backgroundColor:"rgb(234, 216, 184)",color:"rgb(44, 46, 55)"},"&: disabled":{backgroundColor:"transparent",color:"rgb(238, 233, 226)"}},onClick:function(){return H(3)},children:"Withdraw"}),Object(M.jsx)(f.a,{disabled:!i,sx:{padding:"6px 16px",borderRadius:"6px",ml:1,color:"rgb(44, 46, 55)",textTransform:"none",backgroundColor:"rgb(248, 204, 130)",fontFamily:"Montserrat SemiBold","&: hover":{backgroundColor:"rgb(234, 216, 184)",color:"rgb(44, 46, 55)"},"&: disabled":{backgroundColor:"rgb(248, 204, 130)",color:"rgb(44, 46, 55)"}},onClick:function(){return U(3)},children:"Deposit"})]})})]}),Object(M.jsxs)(it.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(M.jsx)(ct.a,{component:"th",scope:"row",sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},children:Object(M.jsxs)(x.a,{children:[Object(M.jsx)(p.a,{sx:{fontSize:"22px",lineHeight:"1.2",fontFamily:"Montserrat Bold"},children:"USDT"}),Object(M.jsxs)(p.a,{sx:{fontSize:"18px",lineHeight:"1.2",fontFamily:"Montserrat",color:"rgba(145, 153, 167, 1)"},children:["$",A[4].toFixed(2)]})]})}),Object(M.jsxs)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:[E[4].toFixed(2)," USDT"]}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:T[4].toFixed(2)}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:R[4].toFixed(2)}),Object(M.jsx)(ct.a,{sx:{fontSize:"22px",fontFamily:"Montserrat Bold",borderBottom:"1px solid rgba(67, 70, 74, 1)",color:"white"},align:"right",children:Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[Object(M.jsx)(f.a,{disabled:!i,sx:{padding:"6px 16px",borderRadius:"6px",color:"rgb(238, 233, 226)",textTransform:"none",backgroundColor:"transparent",boxSizing:"border-box",border:"1px solid rgb(238, 233, 226)",fontFamily:"Montserrat SemiBold","&: hover":{backgroundColor:"rgb(234, 216, 184)",color:"rgb(44, 46, 55)"},"&: disabled":{backgroundColor:"transparent",color:"rgb(238, 233, 226)"}},onClick:function(){return H(4)},children:"Withdraw"}),Object(M.jsx)(f.a,{disabled:!i,sx:{padding:"6px 16px",borderRadius:"6px",ml:1,color:"rgb(44, 46, 55)",textTransform:"none",backgroundColor:"rgb(248, 204, 130)",fontFamily:"Montserrat SemiBold","&: hover":{backgroundColor:"rgb(234, 216, 184)",color:"rgb(44, 46, 55)"},"&: disabled":{backgroundColor:"rgb(248, 204, 130)",color:"rgb(44, 46, 55)"}},onClick:function(){return U(4)},children:"Deposit"})]})})]})]})]})}),Object(M.jsx)(lt.a,{open:d,onClose:W,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(M.jsxs)(x.a,{sx:pt,children:[Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(M.jsx)(p.a,{sx:{fontSize:"18px",fontFamily:"Montserrat Bold",color:"white"},children:"Deposit"}),Object(M.jsx)(dt.a,{sx:{padding:"0"},onClick:W,children:Object(M.jsx)(xt.a,{sx:{color:"white"}})})]}),Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[Object(M.jsx)(f.a,{sx:{border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"10px",padding:"4px 24px",color:"white",fontSize:"18px",fontFamily:"Montserrat Medium",mr:1},children:jt[k]}),Object(M.jsx)(Q.a,{sx:{flexGrow:"1"},variant:"outlined",children:Object(M.jsx)(ut.a,{id:"outlined-adornment-weight",value:I,onChange:G,"aria-describedby":"outlined-weight-helper-text",endAdornment:Object(M.jsx)(ae.a,{position:"end",children:Object(M.jsx)(f.a,{sx:{color:"white",border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"12px",padding:"2px 4px",minWidth:"44px",fontSize:"10px"},onClick:V,children:"Max"})}),sx:{borderRadius:"8px",color:"white",pr:1,border:"1px solid rgba(255, 255, 255, 0.12)","& .MuiOutlinedInput-input":{padding:"12px 8px"},"& .MuiOutlinedInput-notchedOutline":{border:"none"}}})})]}),Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"flex-start",mt:2},children:[Object(M.jsx)(p.a,{sx:{fontFamily:"Montserrat Medium",mr:3,fontSize:"12px",color:"rgba(145, 153, 167, 1)"},children:"Balance:"}),P&&k<=4&&Object(M.jsx)(p.a,{sx:{fontFamily:"Montserrat Medium",fontSize:"12px",color:"white"},children:E[k].toFixed(2)}),P&&5===k&&Object(M.jsx)(p.a,{sx:{fontFamily:"Montserrat Medium",fontSize:"12px",color:"white"},children:N})]}),5===k||P&&L[k].toNumber()>0?Object(M.jsx)(f.a,{sx:{borderRadius:"8px",width:"100%",border:"1px solid rgba(255, 255, 255, 0.12)",fontFamily:"Montserrat SemiBold",background:"rgb(37, 37, 37)",padding:0,height:"50px",color:"rgb(255, 184, 0)",mt:1,"& :hover":{background:"rgb(43, 42, 42)"}},onClick:function(){Y()},children:"Deposit"}):Object(M.jsx)(f.a,{sx:{borderRadius:"8px",width:"100%",border:"1px solid rgba(255, 255, 255, 0.12)",fontFamily:"Montserrat SemiBold",background:"rgb(37, 37, 37)",padding:0,height:"50px",color:"rgb(255, 184, 0)",mt:1,"& :hover":{background:"rgb(43, 42, 42)"}},onClick:function(){$()},children:"Approve"})]})}),Object(M.jsx)(lt.a,{open:m,onClose:W,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(M.jsxs)(x.a,{sx:pt,children:[Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(M.jsx)(p.a,{sx:{fontSize:"18px",fontFamily:"Montserrat Bold",color:"white"},children:"Withdraw"}),Object(M.jsx)(dt.a,{sx:{padding:"0"},onClick:W,children:Object(M.jsx)(xt.a,{sx:{color:"white"}})})]}),Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[Object(M.jsx)(f.a,{sx:{border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"10px",padding:"4px 24px",color:"white",fontSize:"18px",fontFamily:"Montserrat Medium",mr:1},children:jt[k]}),Object(M.jsx)(Q.a,{sx:{flexGrow:"1"},variant:"outlined",children:Object(M.jsx)(ut.a,{id:"outlined-adornment-weight",value:I,onChange:G,"aria-describedby":"outlined-weight-helper-text",endAdornment:Object(M.jsx)(ae.a,{position:"end",children:Object(M.jsx)(f.a,{sx:{color:"white",border:"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"12px",padding:"2px 4px",minWidth:"44px",fontSize:"10px"},onClick:V,children:"Max"})}),sx:{borderRadius:"8px",color:"white",pr:1,border:"1px solid rgba(255, 255, 255, 0.12)","& .MuiOutlinedInput-input":{padding:"12px 8px"},"& .MuiOutlinedInput-notchedOutline":{border:"none"}}})})]}),Object(M.jsxs)(x.a,{sx:{display:"flex",justifyContent:"flex-start",mt:2},children:[Object(M.jsx)(p.a,{sx:{fontFamily:"Montserrat Medium",mr:3,fontSize:"12px",color:"rgba(145, 153, 167, 1)"},children:"Balance:"}),P&&k<=4&&Object(M.jsx)(p.a,{sx:{fontFamily:"Montserrat Medium",fontSize:"12px",color:"white"},children:R[k].toFixed(3)}),P&&5===k&&Object(M.jsx)(p.a,{sx:{fontFamily:"Montserrat Medium",fontSize:"12px",color:"white"},children:R[1].toFixed(3)})]}),Object(M.jsx)(f.a,{sx:{borderRadius:"8px",width:"100%",border:"1px solid rgba(255, 255, 255, 0.12)",fontFamily:"Montserrat SemiBold",background:"rgb(37, 37, 37)",padding:0,height:"50px",color:"rgb(255, 184, 0)",mt:1,"& :hover":{background:"rgb(43, 42, 42)"}},onClick:function(){J()},children:"Withdraw"})]})})]})};var Ot=function(){return Object(M.jsx)(x.a,{sx:{backgroundColor:"rgba(9, 9, 10, 1)",display:"flex",height:"calc(100vh - 187px)",justifyContent:"center",pt:3,px:1},children:Object(M.jsxs)(x.a,{sx:{maxWidth:"1124px",width:"100%"},children:[Object(M.jsx)(tt,{}),Object(M.jsx)(ft,{})]})})},gt=(r(646),r(135));var ht=function(){var e=Object(gt.c)().enqueueSnackbar,t=Object(D.c)((function(e){return e.messages})),r=Object(D.b)();return Object(a.useEffect)((function(){t.message&&(e(JSON.stringify(t.message)),r(we()))}),[t.message]),Object(M.jsx)("div",{})};var mt=function(){return Object(M.jsxs)("div",{className:"App",children:[Object(M.jsx)(T,{}),Object(M.jsx)(te,{}),Object(M.jsxs)(d.d,{children:[Object(M.jsx)(d.b,{path:"/",element:Object(M.jsx)(Ot,{})}),Object(M.jsx)(d.b,{path:"/account",element:Object(M.jsx)(Ot,{})}),Object(M.jsx)(d.b,{path:"/pools",element:Object(M.jsx)(Ot,{})}),Object(M.jsx)(d.b,{path:"/trade",element:Object(M.jsx)(Ye,{})}),Object(M.jsx)(d.b,{path:"*",element:Object(M.jsx)(d.a,{replace:!0,to:"/"})})]}),Object(M.jsx)(ht,{})]})},yt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,760)).then((function(t){var r=t.getCLS,n=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;r(e),n(e),o(e),a(e),i(e)}))},wt=Object(L.a)({reducer:{messages:Ce,positions:fe,user:Ze,markets:H},middleware:function(e){return e({serializableCheck:!1})}}),vt=r(221),kt=r.n(vt),Ct=r(756),Mt=r(757),Ft=r(738),St=r(724),Bt=r(393),It=r.n(Bt),zt=r(214),Pt=r.n(zt),Tt=r(392),Dt=r.n(Tt),Rt=r(390),Lt=r.n(Rt),At=r(391),Et=r.n(At),Nt=r(389),Ut=Object(St.a)((function(){return{root:{"@media (min-width:600px)":{minWidth:"344px !important"}},card:{width:"100%"},error:{backgroundColor:"#d32f2f"},info:{backgroundColor:"#2979ff"},warning:{backgroundColor:"#ffa000"},success:{backgroundColor:"#43a047"},typography:{color:"#FFFFFF",fontFamily:"Montserrat SemiBold"},actionRoot:{padding:"8px 8px 8px 16px",justifyContent:"space-between",color:"#FFFFFF"},icons:{marginLeft:"auto"},expand:{padding:"8px 8px",transform:"rotate(0deg)",transition:"all .2s",color:"#FFFFFF"},expandOpen:{transform:"rotate(180deg)"},collapse:{padding:16},checkIcon:{fontSize:20,color:"#b3b3b3",paddingRight:4},checkIconCopy:{color:"#43a047"},button:{padding:0,textTransform:"none"},errorWrap:{marginTop:10},errorText:{whiteSpace:"pre-wrap",maxHeight:300,overflow:"auto",background:"rgba(0,0,0,0.1)",padding:5,borderRadius:5}}})),Ht=Object(a.forwardRef)((function(e,t){var r=Ut(),n=Object(gt.c)().closeSnackbar,o=Object(a.useState)(!1),i=Object(u.a)(o,2),c=i[0],s=i[1],l=Object(a.useState)(!1),d=Object(u.a)(l,2),b=d[0],x=d[1],j=Object(a.useCallback)((function(){s((function(e){return!e}))}),[]),O=Object(a.useCallback)((function(){n(e.id)}),[e.id,n]);return Object(M.jsx)(gt.a,{ref:t,className:r.root,children:Object(M.jsxs)(Ct.a,{className:kt()(r.card,r[e.message.severity]),children:[Object(M.jsxs)(Mt.a,{classes:{root:r.actionRoot},children:[function(e){switch(e){case"error":return Object(M.jsx)(Lt.a,{color:"inherit"});case"info":return Object(M.jsx)(Et.a,{color:"inherit"});case"success":return Object(M.jsx)(Pt.a,{color:"inherit"});case"warning":return Object(M.jsx)(Dt.a,{color:"inherit"});default:return Object(M.jsx)("div",{})}}(e.message.severity),Object(M.jsx)(p.a,{variant:"subtitle2",className:r.typography,children:e.message.text}),Object(M.jsxs)("div",{className:r.icons,children:[e.message.error&&Object(M.jsx)(dt.a,{"aria-label":"Show more",className:kt()(r.expand,Object(h.a)({},r.expandOpen,c)),onClick:j,children:Object(M.jsx)(It.a,{color:"inherit"})}),Object(M.jsx)(dt.a,{className:r.expand,onClick:O,children:Object(M.jsx)(xt.a,{color:"inherit"})})]})]}),Object(M.jsx)(Ft.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(M.jsxs)(nt.a,{className:r.collapse,children:[Object(M.jsx)(Nt.CopyToClipboard,{text:JSON.stringify(e.message.error),onCopy:function(){return x(!0)},children:Object(M.jsxs)(f.a,{size:"small",className:r.button,children:[Object(M.jsx)(Pt.a,{className:kt()(r.checkIcon,Object(h.a)({},r.checkIconCopy,b))}),"Copy to clipboard"]})}),Object(M.jsxs)("div",{className:r.errorWrap,children:[Object(M.jsx)(p.a,{children:"Error message: "}),Object(M.jsx)(p.a,{className:r.errorText,children:JSON.stringify(e.message.error,null,2)})]})]})})]})})})),Wt=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){var r=e.children;return t.reduceRight((function(e,t){var r=t.component||t,n=t.props||{};return Object(M.jsx)(r,Object(o.a)(Object(o.a)({},n),{},{children:e}))}),r)}}(_.Provider,J.Provider);s.a.render(Object(M.jsx)(i.a.StrictMode,{children:Object(M.jsx)(gt.b,{maxSnack:4,anchorOrigin:{vertical:"bottom",horizontal:"right"},content:function(e,t){return Object(M.jsx)(Ht,{id:e,message:JSON.parse(t)})},autoHideDuration:1e4,children:Object(M.jsx)(D.a,{store:wt,children:Object(M.jsx)(B,{children:Object(M.jsx)(Wt,{children:Object(M.jsx)(l.a,{children:Object(M.jsx)(mt,{})})})})})})}),document.getElementById("root")),yt()}},[[648,1,2]]]);
//# sourceMappingURL=main.4a1e2884.chunk.js.map
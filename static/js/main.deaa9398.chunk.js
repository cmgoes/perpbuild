(this.webpackJsonpwallpetint=this.webpackJsonpwallpetint||[]).push([[0],{376:function(e,t,n){},377:function(e,t){},418:function(e,t){},420:function(e,t){},444:function(e,t){},446:function(e,t){},458:function(e,t){},459:function(e,t){},482:function(e,t){},485:function(e,t){},487:function(e,t){},592:function(e,t){},593:function(e,t){},607:function(e,t,n){},608:function(e,t,n){"use strict";n.r(t);var r,o=n(24),a=n(2),c=n.n(a),i=n(84),s=n.n(i),l=(n(376),n(13)),u=n(681),b=n(683),d=n(684),j=n(685),x=n(0),p=n(4),O=n(12),f=n(338),h=n.n(f),g=n(661),v=n(662),m=n(358);!function(e){e[e.OPTIMISM=10]="OPTIMISM",e[e.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI"}(r||(r={}));var C=r.OPTIMISM,S=n(6),w=c.a.createContext(null),y=function(){var e=Object(a.useContext)(w);if(!e)throw new Error("useWeb3Context() can only be used inside of <Web3ContextProvider />, please declare it at a higher level.");var t=e.onChainProvider;return Object(a.useMemo)((function(){return Object(o.a)({},t)}),[e])},k=function(e){var t=e.children,n=Object(a.useState)(!1),o=Object(l.a)(n,2),c=o[0],i=o[1],s=Object(a.useState)(C),u=Object(l.a)(s,2),b=u[0],d=(u[1],Object(a.useState)(C)),j=Object(l.a)(d,2),f=j[0],y=j[1],k=Object(a.useState)(""),M=Object(l.a)(k,2),I=M[0],P=M[1],T=Object(a.useState)("https://mainnet.optimism.io"),z=Object(l.a)(T,2),F=z[0],L=(z[1],Object(a.useState)(new g.a(F))),B=Object(l.a)(L,2),A=B[0],D=B[1],N=Object(a.useState)(new h.a({cacheProvider:!0,providerOptions:{walletconnect:{package:m.a,options:{rpc:Object(O.a)({},r.OPTIMISM,"https://mainnet.optimism.io")}}}})),E=Object(l.a)(N,1)[0],R=function(){return!!E&&!!E.cachedProvider},G=Object(a.useCallback)((function(e){e.on&&(e.on("accountsChanged",(function(){return setTimeout((function(){return window.location.reload()}),1)})),e.on("chainChanged",function(){var e=Object(p.a)(Object(x.a)().mark((function e(t){return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.on("network",(function(e,t){t&&window.location.reload()})))}),[A]),H=function(){var e=Object(p.a)(Object(x.a)().mark((function e(t){var n;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Number(t),y(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=Object(a.useCallback)(Object(p.a)(Object(x.a)().mark((function e(){var t,n,o,a;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.connect();case 2:return t=e.sent,G(t),n=new v.a(t,"any"),e.next=7,n.getNetwork().then((function(e){return Number(e.chainId)}));case 7:return o=e.sent,e.next=10,n.getSigner().getAddress();case 10:return a=e.sent,P(a),y(o),o===r.OPTIMISM&&D(n),i(!0),e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)}))),[A,E,c]),U=Object(a.useCallback)(Object(p.a)(Object(x.a)().mark((function e(){return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.clearCachedProvider(),i(!1),setTimeout((function(){window.location.reload()}),1);case 3:case"end":return e.stop()}}),e)}))),[A,E,c]),q=Object(a.useMemo)((function(){return{connect:W,disconnect:U,hasCachedProvider:R,provider:A,connected:c,address:I,chainID:b,web3Modal:E,providerChainID:f}}),[W,U,R,A,c,I,b,E,f]);return Object(S.jsx)(w.Provider,{value:{onChainProvider:q},children:t})},M=n(352),I=n.n(M);var P=function(){var e=y(),t=e.connect,n=e.disconnect,r=e.connected,o=e.web3,c=(e.address,e.provider,e.providerChainID),i=e.checkWrongNetwork,s=Object(a.useState)(r),x=Object(l.a)(s,2),p=x[0],O=x[1],f="Connect",h=t;return p&&(f="Disconnect",h=n),p&&c!==C&&(f="Wrong network",h=function(){i()}),Object(a.useEffect)((function(){O(r)}),[o,r]),Object(S.jsx)(u.a,{position:"static",sx:{backgroundColor:"rgba(9, 9, 10, 1)",backgroundImage:"none",py:2,px:2,borderBottom:"1px solid rgba(255, 255, 255, 0.16)"},children:Object(S.jsxs)(b.a,{flexGrow:1,justifyContent:"space-between",alignItems:"center",sx:{ml:{xs:"20px",md:"60px"},display:"flex"},children:[Object(S.jsx)(d.a,{variant:"h4",fontWeight:"700",textAlign:"center",color:"white",children:"Perp V2"}),Object(S.jsxs)(j.a,{variant:"contained",sx:{cursor:"pointer",backgroundColor:"transparent",color:"rgba(101, 230, 255, 1)",fontSize:"16px","&:hover":{backgroundColor:"rgba(101, 239, 255, 0.12)"}},onClick:h,children:[Object(S.jsx)(I.a,{sx:{color:"rgba(101, 230, 255, 1)",pr:1}}),f]})]})})},T=n(686),z=n(42),F=n(187),L=n(672),B=n(134),A=n(23),D=n.n(A),N=Object(F.a)((function(){var e=Object(a.useState)(z.a.LONG),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(new D.a(.02)),c=Object(l.a)(o,2),i=c[0],s=c[1],u=Object(a.useState)(new D.a(0)),b=Object(l.a)(u,2),d=b[0],j=b[1],x=Object(a.useState)(new L.a({chainId:B.c.OPTIMISM,providerConfigs:[{rpcUrl:"https://mainnet.optimism.io"}]})),p=Object(l.a)(x,2),O=p[0];p[1];return Object(a.useMemo)((function(){return{side:n,setPositionSide:r,slippage:i,setSlippage:s,collateral:d,setCollateral:j,perpetualObject:O}}),[n,i,d])}));var E=function(){var e=N.useContainer(),t=e.side,n=e.setPositionSide,r=Object(a.useCallback)((function(){t!==z.a.LONG&&n(z.a.LONG)}),[n,t]),o=Object(a.useCallback)((function(){t!==z.a.SHORT&&n(z.a.SHORT)}),[n,t]);return Object(S.jsxs)(T.a,{size:"large",sx:{py:"12px",border:"none",width:"100%"},children:[Object(S.jsx)(j.a,{sx:{width:"50%",fontSize:"12px",backgroundColor:t===z.a.LONG?"#52c41a":"gray",color:t===z.a.LONG?"white":"black",border:"1px solid transparent","&: hover":{backgroundColor:"#49bc10",border:"1px solid transparent"}},onClick:r,children:"Long"}),Object(S.jsx)(j.a,{sx:{width:"50%",fontSize:"12px",backgroundColor:t===z.a.SHORT?"#fa672d":"gray",color:t===z.a.SHORT?"white":"black",border:"1px solid transparent","&: hover":{backgroundColor:"#f85819",border:"1px solid transparent"}},onClick:o,children:"Short"})]})},R=n(677),G=n(676),H=n(687),W=n(673),U=Object(F.a)((function(){var e=Object(a.useState)("ETHUSD"),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.useMemo)((function(){return{marketticker:n,setMarketTicker:r}}),[n,r])}));var q=function(){var e=U.useContainer(),t=(e.marketticker,e.setMarketTicker),n=c.a.useState(!1),r=Object(l.a)(n,2),o=r[0],a=r[1];return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(H.a,{variant:"standard",sx:{m:1,width:"300px"},children:[Object(S.jsx)(R.a,{size:"small",shrink:!0,sx:{left:"120px",color:"rgba(145, 153, 167, 1)","&.Mui-focused":{color:"rgba(145, 153, 167, 1)"}},children:"Market"}),Object(S.jsx)(W.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:o,defaultValue:"ETHUSD",onClose:function(){a(!1)},onOpen:function(){a(!0)},label:"Market",onChange:function(e){t(e.target.value)},sx:{"&:hover:not(.Mui-disabled):before":{borderBottom:"none"},"& > svg":{color:"white"},"& ul":{backgroundColor:"rgba(9, 9, 10, 1)"},"&::before":{border:"none"},color:"white","&::after":{borderBottom:"none"}},children:["ETHUSD","BNBUSD","AVAXUSD"].map((function(e){return Object(S.jsx)(G.a,{value:e,sx:{color:"black"},children:e},e)}))})]})})};var V=function(){return Object(S.jsxs)(b.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",backgroundColor:"rgba(29, 29, 29, 1)",flexDirection:{xs:"column",sm:"row"},borderRadius:"10px",py:"4px",mb:1},children:[Object(S.jsx)(q,{}),Object(S.jsxs)(b.a,{sx:{display:"flex",justifyContent:"flex-start",borderLeft:{sm:"1px solid rgba(145, 153, 167, 0.8)"},pl:{sm:2,md:3,xl:4},py:1},children:[Object(S.jsxs)(b.a,{sx:{pr:{xs:2,md:3,xl:4}},children:[Object(S.jsx)(d.a,{sx:{fontSize:"0.75rem",color:"rgba(145, 153, 167, 1)"},children:"Index Price"}),Object(S.jsx)(d.a,{sx:{color:"rgb(255, 255, 255)"},children:"1266.0"})]}),Object(S.jsxs)(b.a,{sx:{pr:{xs:2,md:3,xl:4}},children:[Object(S.jsx)(d.a,{sx:{fontSize:"0.75rem",color:"rgba(145, 153, 167, 1)"},children:"Volume (24h)"}),Object(S.jsx)(d.a,{sx:{color:"rgb(255, 255, 255)"},children:"5,798,410.3"})]}),Object(S.jsxs)(b.a,{sx:{pr:{xs:2,md:3,xl:4}},children:[Object(S.jsx)(d.a,{sx:{fontSize:"0.75rem",color:"rgba(145, 153, 167, 1)"},children:"Funding Rate (8h)"}),Object(S.jsx)(d.a,{sx:{color:"rgb(255, 255, 255)"},children:"0.0071%"})]})]})]})},$=n(678),_=n(690);new A.Big(0),n(39),n(356);new RegExp(/\d(?=(\d{3})+\.)/g);function J(e,t){var n=e.indexOf("."),r=e.split("").filter((function(e,t){return"."!==e||t===n})).join("");return r.includes(".")&&r.length>r.indexOf(".")+(t+1)?r.substr(0,r.indexOf(".")+(t+1)):r}function Y(e){var t=e.value,n=e.delay,r=void 0===n?200:n,o=e.onBeforeDebounce,c=e.onAfterDebounce,i=Object(a.useState)(t),s=Object(l.a)(i,2),u=s[0],b=s[1];return Object(a.useEffect)((function(){o&&o(t);var e=setTimeout((function(){b(t),c&&c(t)}),r);return function(){clearTimeout(e)}}),[t,r,o,c]),u}var X=function(){var e=N.useContainer(),t=e.collateral,n=e.setCollateral,r=Object(a.useState)(""),o=Object(l.a)(r,2),c=o[0],i=o[1],s=Y({value:c,delay:800}),u=Object(a.useCallback)((function(e){var t=e.target.value;if(t>=0){var n=J(t,2);i(n)}}),[i]);return Object(a.useEffect)((function(){if(""!==s){var e=new D.a(s);null!==t&&void 0!==t&&t.eq(e)||n(e)}}),[t,s,n]),Object(a.useMemo)((function(){return Object(S.jsx)(b.a,{sx:{my:2},children:Object(S.jsx)($.a,{id:"outlined-name",label:"Collateral",type:"number",value:c,placeholder:"0",InputLabelProps:{shrink:!0},InputProps:{endAdornment:Object(S.jsx)(_.a,{position:"end",children:"USDC"})},onChange:u,sx:{width:"100%","& > label, & .MuiFormLabel-root.Mui-focused":{color:"#a3a8b7"},"& > div":{color:"white"},"& .MuiInputBase-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#a3a8b7",borderWidth:"1px"},"& .MuiInputBase-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#a3a8b7"},"& .MuiTypography-root":{color:"#a3a8b7"},"& fieldset.MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.16)"}}})})}),[c,u])};var K=function(){var e=N.useContainer(),t=e.slippage,n=e.setSlippage,r=Object(a.useState)(""),o=Object(l.a)(r,2),c=o[0],i=o[1],s=Y({value:c,delay:800}),u=Object(a.useCallback)((function(e){var t=e.target.value;if(t>=0){var n=J(t,2);i(n)}}),[i]);return Object(a.useEffect)((function(){if(""!==s){var e=new D.a(s);null!==t&&void 0!==t&&t.eq(e)||n(e)}}),[t,s,n]),Object(a.useMemo)((function(){return Object(S.jsx)(b.a,{sx:{my:2},children:Object(S.jsx)($.a,{id:"outlined-name",label:"Slippage",type:"number",value:c,placeholder:"0.02",InputLabelProps:{shrink:!0},InputProps:{endAdornment:Object(S.jsx)(_.a,{position:"end",children:"%"})},onChange:u,sx:{width:"100%","& > label, & .MuiFormLabel-root.Mui-focused":{color:"#a3a8b7"},"& > div":{color:"white"},"& .MuiInputBase-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#a3a8b7",borderWidth:"1px"},"& .MuiInputBase-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#a3a8b7"},"& .MuiTypography-root":{color:"#a3a8b7"},"& fieldset.MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.16)"}}})})}),[c,u])};var Q=function(){var e=y().provider,t=U.useContainer().marketticker,n=N.useContainer().collateral,r=N.useContainer().side,o=N.useContainer().slippage,c=N.useContainer().perpetualObject,i=t.substring(0,t.length-3),s=function(){var e,t=y(),n=t.connected,r=(t.web3,t.address,t.provider),o=t.providerChainID,c=Object(a.useState)(""),i=Object(l.a)(c,2),s=i[0],u=i[1],b=Object(a.useState)(""),d=Object(l.a)(b,2),j=d[0],O=d[1],f=Object(a.useState)(""),h=Object(l.a)(f,2),g=h[0],v=h[1],m=Object(a.useState)(""),S=Object(l.a)(m,2),w=S[0],k=S[1],M=Object(a.useState)(""),I=Object(l.a)(M,2),P=I[0],T=I[1],z=N.useContainer().perpetualObject,F=Object(a.useState)(),L=Object(l.a)(F,2),A=L[0],D=L[1],E=Object(a.useState)(!1),R=Object(l.a)(E,2),G=R[0],H=R[1],W=N.useContainer().side,q=U.useContainer().marketticker,V=N.useContainer().collateral,$=N.useContainer().slippage,_=q,J=V;return Object(a.useEffect)((function(){function t(){return(t=Object(p.a)(Object(x.a)().mark((function t(){var a,c,i;return Object(x.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||o!==C){t.next=41;break}if(console.log("ChainId",B.c.OPTIMISM),null!==V){t.next=5;break}return u(""),t.abrupt("return");case 5:if(!V.eq(0)){t.next=8;break}return u("0"),t.abrupt("return");case 8:return H(!0),t.next=11,z.init();case 11:return t.next=13,z.connect({signer:r.getSigner()});case 13:return e=null===(a=z.clearingHouse)||void 0===a?void 0:a.createPositionDraft({tickerSymbol:_,side:W,amountInput:J,isAmountInputBase:!1}),console.log("NewPosition::",e),D(e),t.t0=O,t.next=19,e.getEntryPrice();case 19:return t.t1=t.sent.toFixed(2),(0,t.t0)(t.t1),t.t2=v,t.next=24,e.getTransactionFee();case 24:return t.t3=t.sent.toFixed(8),(0,t.t2)(t.t3),t.t4=k,t.next=29,e.getPriceImpact();case 29:return t.t5=t.sent.toFixed(5),(0,t.t4)(t.t5),t.t6=T,t.next=34,e.getBuyingPower();case 34:return t.t7=t.sent.toFixed(4),(0,t.t6)(t.t7),t.next=38,null===(c=e)||void 0===c?void 0:c.getOppositeAmountBound($);case 38:i=t.sent,u(i.toFixed(7)),H(!1);case 41:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[n,o,q,W,V,$]),{oppositeAmount:s,isCalculating:G,newPositionDraft:A,entryPrice:j,tradingFee:g,priceImpact:w,buyingPower:P}}(),u=s.oppositeAmount,O=s.isCalculating,f=s.newPositionDraft,h=s.entryPrice,g=s.tradingFee,v=s.priceImpact,m=s.buyingPower,w=O||null===n||n.eq(0),k=Object(a.useCallback)(Object(p.a)(Object(x.a)().mark((function t(){var n;return Object(x.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.init();case 2:return t.next=4,c.connect({signer:e.getSigner()});case 4:null===c||void 0===c||null===(n=c.clearingHouse)||void 0===n||n.openPosition(f,o),console.log("Perp openPosition",f);case 6:case"end":return t.stop()}}),t)}))),[f,o]);return Object(S.jsxs)(b.a,{sx:{mt:2},children:[Object(S.jsx)(b.a,{sx:{mb:2},children:Object(S.jsx)($.a,{id:"outlined-name",label:"Output",type:"number",disabled:!0,value:u,placeholder:"0",InputLabelProps:{shrink:!0},InputProps:{endAdornment:Object(S.jsx)(_.a,{position:"end",children:i})},sx:{width:"100%","& .MuiFormLabel-root.Mui-disabled, & .MuiFormLabel-root.Mui-focused, & .MuiTypography-root":{color:"#a3a8b7"},"& > div":{color:"white"},"& .MuiInputBase-root.MuiOutlinedInput-root.Mui-disabled":{color:"#a3a8b7"},"& .MuiInputBase-root > input":{"-webkit-text-fill-color":"#a3a8b7"},"& .MuiInputBase-root.MuiOutlinedInput-root.Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.16)"}}})}),Object(S.jsxs)(b.a,{sx:{mx:"auto",display:"flex",justifyContent:"space-between",pb:1},children:[Object(S.jsx)(d.a,{sx:{fontSize:"14px",color:"#a3a8b7"},children:"Buying Power"}),Object(S.jsxs)(d.a,{sx:{fontSize:"14px",color:"#a3a8b7"},children:["$",m]})]}),Object(S.jsx)(d.a,{sx:{mx:"auto",py:1,textAlign:"left",color:"white"},children:"Summary"}),Object(S.jsxs)(b.a,{sx:{mx:"auto",display:"flex",justifyContent:"space-between",pb:1},children:[Object(S.jsx)(d.a,{sx:{fontSize:"14px",color:"#a3a8b7"},children:"Entry Price"}),Object(S.jsxs)(d.a,{sx:{fontSize:"14px",color:"#a3a8b7"},children:["$",h]})]}),Object(S.jsxs)(b.a,{sx:{mx:"auto",display:"flex",justifyContent:"space-between",pb:1},children:[Object(S.jsx)(d.a,{sx:{fontSize:"14px",color:"#a3a8b7"},children:"Trading Fee"}),Object(S.jsxs)(d.a,{sx:{fontSize:"14px",color:"#a3a8b7"},children:["$",g]})]}),Object(S.jsxs)(b.a,{sx:{mx:"auto",display:"flex",justifyContent:"space-between",pb:1},children:[Object(S.jsx)(d.a,{sx:{fontSize:"14px",color:"#a3a8b7"},children:"Price Impact"}),Object(S.jsxs)(d.a,{sx:{fontSize:"14px",color:"#a3a8b7"},children:[v,"%"]})]}),Object(S.jsxs)(j.a,{variant:"contained",disabled:w,sx:{width:"100%",paddingY:"12px",backgroundColor:r===z.a.LONG?"success.light":"#ef5350",display:"block",mx:"auto","&: hover":{backgroundColor:r===z.a.LONG?"success.main":"#f44336"},"&: disabled":{backgroundColor:r===z.a.LONG?"success.light":"#ef5350",color:"black",opacity:.8}},onClick:k,children:["Confirm ",r]})]})},Z=n(106),ee=n(675),te=n(691),ne=["children","value","index"];function re(e){var t=e.children,n=e.value,r=e.index,a=Object(Z.a)(e,ne);return Object(S.jsx)("div",Object(o.a)(Object(o.a)({role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},a),{},{children:n===r&&Object(S.jsx)(b.a,{sx:{py:2},children:t})}))}function oe(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function ae(){var e=y(),t=e.connected,n=(e.web3,e.address,e.provider),r=(e.providerChainID,Object(a.useState)(0)),c=Object(l.a)(r,2),i=c[0],s=c[1],u=Object(a.useState)(!1),O=Object(l.a)(u,2),f=O[0],h=O[1],g=Object(a.useState)(!1),v=Object(l.a)(g,2),m=v[0],C=v[1],w=Object(a.useState)(""),k=Object(l.a)(w,2),M=k[0],I=k[1],P=Object(a.useState)(""),T=Object(l.a)(P,2),z=T[0],F=T[1],L=Object(a.useState)(""),B=Object(l.a)(L,2),A=B[0],D=B[1],E=Object(a.useState)(""),R=Object(l.a)(E,2),G=R[0],H=R[1],W=Object(a.useState)(""),q=Object(l.a)(W,2),V=q[0],$=q[1],_=Object(a.useState)(""),J=Object(l.a)(_,2),Y=J[0],X=J[1],K=Object(a.useState)(""),Q=Object(l.a)(K,2),Z=Q[0],ne=Q[1],ae=Object(a.useState)(""),ce=Object(l.a)(ae,2),ie=ce[0],se=ce[1],le=N.useContainer().perpetualObject,ue=N.useContainer().slippage,be=U.useContainer().marketticker,de=be,je=be.substring(0,be.length-3);le.hasConnected();Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(x.a)().mark((function e(){var r,o,a,c,i,s,l,u,b,d,j,p,O;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=36;break}return e.next=3,le.init();case 3:return e.next=5,le.connect({signer:n.getSigner()});case 5:return e.next=7,null===le||void 0===le||null===(r=le.positions)||void 0===r?void 0:r.getTakerPositionByTickerSymbol(de);case 7:return void 0!==(i=e.sent)&&C(!0),s=i.sizeAbs.toFixed(8),I(s),l=i.side,F(l),e.next=15,null===le||void 0===le||null===(o=le.positions)||void 0===o?void 0:o.getTotalPendingFundingPayments();case 15:return u=e.sent,console.log("Pending Value_",u[de].s),-1!==u[de].s?h(!1):h(!0),D(u[de].toFixed(4)),b=i.entryPrice.toFixed(2),e.next=22,le.contractReader.getIndexPrice(i.market.baseAddress);case 22:return d=e.sent,j=i.liquidationPrice,H(b),$(d.toFixed(2)),X(j.toFixed(1)),console.log("Position num",i),e.next=30,null===le||void 0===le||null===(a=le.positions)||void 0===a?void 0:a.getAccountMarginRatio();case 30:return p=e.sent,e.next=33,null===le||void 0===le||null===(c=le.positions)||void 0===c?void 0:c.getAccountLeverage();case 33:O=e.sent,ne((100*Number(p.toFixed(4))).toFixed(1)),se(O.toFixed(2));case 36:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]);var xe=function(){var e=Object(p.a)(Object(x.a)().mark((function e(){var t,n,r;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===le||void 0===le||null===(t=le.positions)||void 0===t?void 0:t.getTakerPositionByTickerSymbol(de);case 2:if(void 0===(n=e.sent)){e.next=8;break}return e.next=6,null===le||void 0===le||null===(r=le.clearingHouse)||void 0===r?void 0:r.closePosition(n,ue);case 6:e.next=8;break;case 8:case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(b.a,{sx:{width:"100%"},children:[Object(S.jsx)(b.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(S.jsxs)(ee.a,{value:i,onChange:function(e,t){s(t)},"aria-label":"basic tabs example",textColor:"primary",TabIndicatorProps:{style:{backgroundColor:"white"}},sx:{"& .MuiTab-root":{color:"#a3a8b7"},"& .MuiTab-root.Mui-selected":{color:"white"}},children:[Object(S.jsx)(te.a,Object(o.a)({label:"Position"},oe(0))),Object(S.jsx)(te.a,Object(o.a)({label:"Limit Orders"},oe(1))),Object(S.jsx)(te.a,Object(o.a)({label:"Fills"},oe(2)))]})}),Object(S.jsx)(re,{value:i,index:0,children:m&&Object(S.jsxs)(b.a,{sx:{maxWidth:"360px"},children:[Object(S.jsxs)(b.a,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[Object(S.jsxs)(b.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[Object(S.jsx)(d.a,{sx:{fontSize:"16px",mr:1,color:"white"},children:M}),Object(S.jsx)(d.a,{sx:{fontSize:"12px",color:"#a3a8b7"},children:je})]}),Object(S.jsx)(d.a,{sx:{fontSize:"14px",color:"LONG"===z?"rgba(94, 217, 151, 1)":"rgba(234, 98, 98, 1)"},children:z})]}),Object(S.jsxs)(b.a,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[Object(S.jsx)(d.a,{sx:{fontSize:"14px",color:"#a3a8b7"},children:"Pending Funding Payment"}),Object(S.jsx)(d.a,{sx:{fontSize:"14px",color:!0===f?"rgba(234, 98, 98, 1)":"rgba(94, 217, 151, 1)"},children:A})]}),Object(S.jsxs)(b.a,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[Object(S.jsx)(d.a,{sx:{fontSize:"14px",color:"#a3a8b7"},children:"Avg. Open Price"}),Object(S.jsx)(d.a,{sx:{fontSize:"14px",color:"white"},children:G})]}),Object(S.jsxs)(b.a,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[Object(S.jsx)(d.a,{sx:{fontSize:"14px",color:"#a3a8b7"},children:"Index Price"}),Object(S.jsx)(d.a,{sx:{fontSize:"14px",color:"white"},children:V})]}),Object(S.jsxs)(b.a,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[Object(S.jsx)(d.a,{sx:{fontSize:"14px",color:"#a3a8b7"},children:"Liquidation Price"}),Object(S.jsx)(d.a,{sx:{fontSize:"14px",color:"white"},children:Y})]}),Object(S.jsxs)(b.a,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[Object(S.jsx)(d.a,{sx:{fontSize:"14px",color:"#a3a8b7"},children:"Margin Ratio"}),Object(S.jsxs)(d.a,{sx:{fontSize:"14px",color:"white"},children:[Z,"%"]})]}),Object(S.jsxs)(b.a,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[Object(S.jsx)(d.a,{sx:{fontSize:"14px",color:"#a3a8b7"},children:"Leverage"}),Object(S.jsxs)(d.a,{sx:{fontSize:"14px",color:"white"},children:[ie,"x"]})]}),Object(S.jsx)(b.a,{sx:{display:"flex"},children:Object(S.jsx)(j.a,{variant:"contained",disabled:!1===t,sx:{paddingY:"8px",mt:1,backgroundColor:"rgb(255, 180, 89)",color:"black","&: hover":{backgroundColor:"rgb(255, 180, 89)",color:"white"},"&: disabled":{backgroundColor:"gray",color:"black",opacity:.8}},onClick:xe,children:"Close"})})]})}),Object(S.jsx)(re,{value:i,index:1,children:"Limit Orders"}),Object(S.jsx)(re,{value:i,index:2,children:"Fills"})]})}var ce=function(){return Object(S.jsxs)(b.a,{sx:{backgroundColor:"rgba(9, 9, 10, 1)",py:1,px:1,pb:"400px"},children:[Object(S.jsx)(V,{}),Object(S.jsxs)(b.a,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"}},children:[Object(S.jsx)(b.a,{sx:{boxSizing:"border-box",flexGrow:"1",backgroundColor:"rgba(29, 29, 29, 1)",borderRadius:"10px",p:"12px"},children:Object(S.jsx)(ae,{})}),Object(S.jsxs)(b.a,{sx:{width:{xs:"100%",md:"360px"},boxSizing:"border-box",backgroundColor:"rgba(29, 29, 29, 1)",borderRadius:"10px",px:"12px",pb:"12px",ml:{md:1},mt:{xs:1,md:"0px"}},children:[Object(S.jsx)(E,{}),Object(S.jsx)(X,{}),Object(S.jsx)(K,{}),Object(S.jsx)(Q,{})]})]})]})};n(607);var ie=function(){return Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(P,{}),Object(S.jsx)(ce,{})]})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,693)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),o(e),a(e),c(e)}))},le=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=e.children;return t.reduceRight((function(e,t){var n=t.component||t,r=t.props||{};return Object(S.jsx)(n,Object(o.a)(Object(o.a)({},r),{},{children:e}))}),n)}}(N.Provider,U.Provider);s.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(k,{children:Object(S.jsx)(le,{children:Object(S.jsx)(ie,{})})})}),document.getElementById("root")),se()}},[[608,1,2]]]);
//# sourceMappingURL=main.deaa9398.chunk.js.map